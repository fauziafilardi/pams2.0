{"version":3,"sources":["webpack:///./src/views/TN/TN_FloorTes/TN_TesGoogleMap.vue?426a","webpack:///src/views/TN/TN_FloorTes/TN_TesGoogleMap.vue","webpack:///./src/views/TN/TN_FloorTes/TN_TesGoogleMap.vue?5b3d","webpack:///./src/views/TN/TN_FloorTes/TN_TesGoogleMap.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","multiple","options","masterPlanList","clearable","placeholder","model","value","callback","$$v","masterPlanChoosed","expression","ref","id","hide-footer","hide-header-close","centered","sm","_v","on","click","$event","$refs","modalSubPortfolio","hide","subportfolioList","subportfolioChoosed","text","icon","classButton","classIcon","disabled","saveMap","style","mousetip","mousetip-msg","visible","staticStyle","margin-left","padding-bottom","md","width","place_changed","setPlace","captionButton","isAddMarker","changeStatus","doCancel","_e","height","center","zoom","zoomMap","addMarkerOnMapClick","zoom_changed","zoomChanged","_l","m","index","key","position","clickable","draggable","dragend","dragMarker","deleteMap","maxWidth","infoWindow","opened","open","closeclick","mouseout","_s","content","staticRenderFns","TN_TesGoogleMapvue_type_script_lang_js_","data","isDraggable","lat","lng","markers","currentPlace","markerTemporary","methods","test","alert","getUrlLookUpSubportfolioData","_this","param","postEncode","getUrlLookUpSubportfolio","then","response","JSON","parse","Data","JSONTEXT","openInfoWindow","marker","x","label","length","Latitude","Longitude","undefined","place","splice","latLng","addMarker","searchMap","input","getSubportfolio","show","_this2","SubPortfolioCd","UserId","getDataUser","getUrlInsertSubportfolio","alertSuccess","_this3","alertError","subportfolioCode","alertConfirmation","ress","getUrlDeleteSubportfolio","_this4","getUrlSubportfolio","parseFloat","push","geometry","location","geolocate","_this5","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","mounted","TN_FloorTes_TN_TesGoogleMapvue_type_script_lang_js_","component","Object","componentNormalizer","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0d0236.82845e42.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"height--full\"},[_c('div',{staticClass:\"header--content\"},[_c('treeselect',{attrs:{\"multiple\":false,\"options\":_vm.masterPlanList,\"clearable\":false,\"placeholder\":\"Choose Master Plan\"},model:{value:(_vm.masterPlanChoosed),callback:function ($$v) {_vm.masterPlanChoosed=$$v},expression:\"masterPlanChoosed\"}})],1),_c('b-modal',{ref:\"modalSubPortfolio\",staticClass:\"modal-customize-abs\",attrs:{\"id\":\"modal-center\",\"hide-footer\":true,\"hide-header-close\":true,\"centered\":\"\"}},[_c('b-container',{staticClass:\"bv-example-row\"},[_c('b-row',[_c('b-col',{attrs:{\"sm\":\"12\"}},[_c('div',{staticClass:\"modal-customize-abs__modal-header\"},[_c('div',{staticClass:\"modal-customize-abs__modal-header--title\"},[_vm._v(\"\\n              Choose Subportfolio\\n            \")]),_c('div',{staticClass:\"modal-customize-abs__modal-header--icon\",on:{\"click\":function($event){_vm.$refs.modalSubPortfolio.hide()}}},[_c('i',{staticClass:\"icon-close\"})])]),_c('div',{staticClass:\"modal-customize-abs__modal-body\"},[_c('treeselect',{attrs:{\"multiple\":false,\"options\":_vm.subportfolioList,\"clearable\":false,\"placeholder\":\"Choose SubPortFolio\"},model:{value:(_vm.subportfolioChoosed),callback:function ($$v) {_vm.subportfolioChoosed=$$v},expression:\"subportfolioChoosed\"}}),_c('ABSButton',{attrs:{\"text\":\"Save\",\"icon\":\"save\",\"classButton\":\"button button--save\",\"classIcon\":\"icon-style-1\",\"disabled\":_vm.subportfolioChoosed == null},on:{\"click\":_vm.saveMap}}),_c('br')],1)])],1)],1)],1),_c('div',{staticClass:\"content-app-form__body form-process\"},[_c('div',{staticClass:\"el\",style:('margin-top:10px;'),attrs:{\"mousetip\":\"\",\"mousetip-msg\":\"I'm a tooltip\"}},[_c('b-collapse',{attrs:{\"id\":\"collapse1\",\"visible\":true}},[_c('b-row',{staticStyle:{\"margin-left\":\"25px\",\"padding-bottom\":\"10px\"}},[_c('b-col',{staticClass:\"bColMasterForm\",attrs:{\"md\":\"12\",\"id\":\"col-left\"}},[_c('b-row',[_c('b-col',{attrs:{\"md\":\"12\",\"id\":\"col-left\"}},[_c('b-row'),_c('b-row',[_c('b-col',[_c('label',[_c('gmap-autocomplete',{ref:\"searchMap\",staticStyle:{\"width\":\"900px\"},on:{\"place_changed\":_vm.setPlace}})],1),_c('br')])],1),_c('b-row',[_c('b-col',[_c('ABSButton',{attrs:{\"text\":_vm.captionButton,\"icon\":_vm.captionButton == 'Add Marker' ? 'plus': 'save',\"classButton\":_vm.captionButton == 'Add Marker' ? 'button button--new': 'button button--save',\"disabled\":_vm.captionButton == 'Add Marker' ? false: !_vm.isAddMarker,\"classIcon\":\"icon-style-1\"},on:{\"click\":_vm.changeStatus}}),(_vm.captionButton == 'Save')?_c('ABSButton',{attrs:{\"text\":\"Cancel\",\"icon\":\"ban\",\"classButton\":\"button button--cancel\",\"classIcon\":\"icon-style-2\"},on:{\"click\":_vm.doCancel}}):_vm._e()],1)],1),_c('b-row',[_c('b-col',[_c('gmap-map',{staticStyle:{\"width\":\"100%\",\"height\":\"400px\"},attrs:{\"center\":_vm.center,\"zoom\":_vm.zoomMap},on:{\"click\":_vm.addMarkerOnMapClick,\"zoom_changed\":_vm.zoomChanged}},[_vm._l((_vm.markers),function(m,index){return _c('gmap-marker',{key:index,attrs:{\"icon\":m.icon == null ? 'http://maps.google.com/mapfiles/ms/icons/red-dot.png' : m.icon,\"position\":m.position,\"clickable\":true,\"draggable\":m.draggable},on:{\"dragend\":_vm.dragMarker,\"click\":function($event){_vm.deleteMap(m)}}})}),_c('gmap-info-window',{attrs:{\"options\":{maxWidth: 300},\"position\":_vm.infoWindow.position,\"opened\":_vm.infoWindow.open},on:{\"closeclick\":function($event){_vm.infoWindow.open=false}}},[_c('div',{on:{\"mouseout\":function($event){_vm.infoWindow.open=false}}},[_vm._v(\"\\n                              \"+_vm._s(_vm.infoWindow.content)+\"\\n                            \")])])],2)],1)],1),_c('b-row',[_c('b-col',[_vm._v(\"\\n                      *To Delete Marker/Data, Please Choose Marker Red\\n                    \")])],1)],1)],1)],1)],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"height--full\">\r\n    <!-- <HeaderFormListVuex2 :isProcess = \"true\" /> -->\r\n    <div class=\"header--content\">\r\n      <treeselect\r\n        :multiple=\"false\"\r\n        :options=\"masterPlanList\"\r\n        :clearable=\"false\"\r\n        placeholder=\"Choose Master Plan\"\r\n        v-model=\"masterPlanChoosed\"\r\n      />\r\n    </div>\r\n    <b-modal\r\n      id=\"modal-center\"\r\n      :hide-footer=\"true\"\r\n      :hide-header-close=\"true\"\r\n      ref=\"modalSubPortfolio\"\r\n      centered\r\n      class=\"modal-customize-abs\"\r\n    >\r\n       <b-container class=\"bv-example-row\">\r\n        <b-row>\r\n          <b-col sm=\"12\">\r\n            <div class=\"modal-customize-abs__modal-header\">\r\n              <div class=\"modal-customize-abs__modal-header--title\">\r\n                Choose Subportfolio\r\n              </div>\r\n              <div\r\n                class=\"modal-customize-abs__modal-header--icon\"\r\n                @click=\"$refs.modalSubPortfolio.hide()\"\r\n              >\r\n                <i class=\"icon-close\"></i>\r\n              </div>\r\n            </div>\r\n            <div class=\"modal-customize-abs__modal-body\">\r\n              <treeselect\r\n                :multiple=\"false\"\r\n                :options=\"subportfolioList\"\r\n                :clearable=\"false\"\r\n                placeholder=\"Choose SubPortFolio\"\r\n                v-model=\"subportfolioChoosed\"\r\n              />\r\n              <!-- <b-button @click=\"saveMap\" :disabled=\"subportfolioChoosed == null\">Save</b-button> -->\r\n              <ABSButton\r\n                text=\"Save\"\r\n                icon=\"save\"\r\n                classButton=\"button button--save\"\r\n                classIcon=\"icon-style-1\"\r\n                @click=\"saveMap\"\r\n                :disabled=\"subportfolioChoosed == null\"\r\n              />\r\n              <br />\r\n            </div>\r\n          </b-col>\r\n        </b-row>\r\n      </b-container>\r\n    </b-modal>\r\n    <div class=\"content-app-form__body form-process\">\r\n      <div :style=\"'margin-top:10px;'\" class=\"el\" mousetip mousetip-msg=\"I'm a tooltip\">               \r\n        <b-collapse id=\"collapse1\" :visible=\"true\">\r\n\r\n          <b-row  style=\"margin-left: 25px; padding-bottom: 10px; !important;\">\r\n            <b-col md=\"12\" id=\"col-left\" class=\"bColMasterForm\">\t\r\n              <!-- <b-form :data-vv-scope=\"'FormScope_' + PageLevel + '_' + TabIndex\" :data-vv-value-path=\"'FormScope_' + PageLevel + '_' + TabIndex\"> -->\r\n                <b-row>\r\n                  <b-col md=\"12\" id=\"col-left\">\r\n                    <b-row>\r\n                    </b-row>\r\n                    <b-row>\r\n                      <b-col>\r\n                        <label>\r\n                          <gmap-autocomplete\r\n                            @place_changed=\"setPlace\"\r\n                            style=\"width: 900px\"\r\n                            ref=\"searchMap\">\r\n                          </gmap-autocomplete>\r\n                            <!-- @keyup.enter.native=\"onSearchEnter\" -->\r\n                          <!-- <b-button @click=\"addMarker\" :disabled=\"markerTemporary == null\">Add</b-button> -->\r\n                        </label>\r\n                        <br/>\r\n                      </b-col>\r\n                    </b-row>\r\n                    <b-row>\r\n                      <b-col>\r\n                         <!-- :disabled=\"markerTemporary == null\" -->\r\n                        <!-- <b-button @click=\"changeStatus\">{{captionButton}}</b-button> -->\r\n                        <ABSButton\r\n                          :text=\"captionButton\"\r\n                          :icon=\"captionButton == 'Add Marker' ? 'plus': 'save'\"\r\n                          :classButton=\"captionButton == 'Add Marker' ? 'button button--new': 'button button--save'\"\r\n                          :disabled=\"captionButton == 'Add Marker' ? false: !isAddMarker\"\r\n                          classIcon=\"icon-style-1\"\r\n                          @click=\"changeStatus\"\r\n                        />\r\n                        <!-- <b-button @click=\"doCancel\" v-if=\"captionButton == 'Save'\">Cancel</b-button> -->\r\n                        <ABSButton\r\n                          v-if=\"captionButton == 'Save'\"\r\n                          text=\"Cancel\"\r\n                          icon=\"ban\"\r\n                          classButton=\"button button--cancel\"\r\n                          classIcon=\"icon-style-2\"\r\n                          @click=\"doCancel\"\r\n                        />\r\n                      </b-col>\r\n                    </b-row>\r\n                    <b-row>\r\n                      <b-col>\r\n                        <gmap-map\r\n                          :center=\"center\"\r\n                          :zoom=\"zoomMap\"\r\n                          style=\"width:100%;  height: 400px;\"\r\n                          @click=\"addMarkerOnMapClick\"\r\n                          @zoom_changed=\"zoomChanged\">\r\n                          <gmap-marker\r\n                            :icon=\"m.icon == null ? 'http://maps.google.com/mapfiles/ms/icons/red-dot.png' : m.icon\"\r\n                            :key=\"index\"\r\n                            v-for=\"(m, index) in markers\"\r\n                            :position=\"m.position\"\r\n                            :clickable=\"true\"\r\n                            :draggable=\"m.draggable\"\r\n                            @dragend=\"dragMarker\"\r\n                            @click=\"deleteMap(m)\"\r\n                          ></gmap-marker>\r\n                            <!-- untuk tooltip -->\r\n                            <!-- @mouseover=\"openInfoWindow(m)\" -->\r\n\r\n                            <!-- label=\"testing\" -->\r\n                            <!-- @click=\"center=m.position\" -->\r\n                            <gmap-info-window\r\n                              :options=\"{maxWidth: 300}\"\r\n                              :position=\"infoWindow.position\"\r\n                              :opened=\"infoWindow.open\"\r\n                              @closeclick=\"infoWindow.open=false\">\r\n                              <!-- <div v-html=\"infoWindow.template\"> -->\r\n                              <div @mouseout=\"infoWindow.open=false\">\r\n                                <!-- woi ini isinya lu mau apa hahaha -->\r\n                                {{infoWindow.content}}\r\n                              </div>\r\n                            </gmap-info-window>\r\n                        </gmap-map>\r\n                      </b-col>\r\n                    </b-row>\r\n                    <b-row>\r\n                      <b-col>\r\n                        *To Delete Marker/Data, Please Choose Marker Red\r\n                      </b-col>\r\n                    </b-row>\r\n                  </b-col>\r\n                </b-row>\r\n              <!-- </b-form> -->\r\n            </b-col>\r\n          </b-row>\r\n        </b-collapse>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      // default to Montreal to keep it simple\r\n      // change this to whatever makes sense\r\n      zoomMap: 4,\r\n      isDraggable: true,\r\n      center: { lat: -2.548926, lng: 118.0148634 },\r\n      // center: { lat: 0.0, lng: 0.0 },\r\n      markers: [],\r\n      // places: [],\r\n      currentPlace: null,\r\n\r\n      markerTemporary: null,\r\n      subportfolioList: [],\r\n      subportfolioChoosed: null,\r\n      captionButton: 'Add Marker',\r\n      isAddMarker: false,\r\n\r\n      // info window\r\n      infoWindow: {\r\n        position: {lat: 0, lng: 0},\r\n        open: false,\r\n        content: ''\r\n        // template: ''\r\n      },\r\n\r\n      masterPlanList: [],\r\n      masterPlanChoosed: ''\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    test () {\r\n      alert('woi')\r\n    },\r\n    getUrlLookUpSubportfolioData () {\r\n      var param = {\r\n      }\r\n\r\n      this.postEncode( this.getUrlLookUpSubportfolio(), param )\r\n      .then(response => {\r\n          // response from API\r\n          if (response == null) return\r\n          \r\n          this.masterPlanList = JSON.parse(response.Data[0].JSONTEXT)\r\n      })\r\n    },\r\n    openInfoWindow (marker) {\r\n      // this.setInfoWindowTemplate(marker)\r\n      this.infoWindow.position = marker.position // this.getCoordinates(marker)\r\n      var x\r\n      var subportfolioCode\r\n      var label\r\n      for (x = 0 ; x < this.subportfolioList.length ; x ++) {\r\n        if (this.subportfolioList[x].Latitude == marker.position.lat && this.subportfolioList[x].Longitude == marker.position.lng) {\r\n          subportfolioCode = this.subportfolioList[x].id\r\n          label = this.subportfolioList[x].label\r\n          break\r\n        }\r\n      }\r\n      if (label == undefined) {\r\n        this.infoWindow.open = false\r\n      } else {\r\n        this.infoWindow.content = label\r\n        this.infoWindow.open = true\r\n      }\r\n    },\r\n    dragMarker (place) {\r\n      this.markers.splice(-1,1)\r\n      this.markerTemporary = {\r\n        lat: place.latLng.lat(),\r\n        lng: place.latLng.lng()\r\n      }\r\n      this.addMarker()\r\n    },\r\n    doCancel () {\r\n      this.isAddMarker = false\r\n      this.$refs.searchMap.$refs.input.disabled = false\r\n      this.captionButton = 'Add Marker'\r\n      this.getSubportfolio()\r\n    },\r\n    changeStatus () {\r\n      if (this.captionButton == 'Add Marker') {\r\n        this.captionButton = 'Save'\r\n        this.$refs.searchMap.$refs.input.disabled = true\r\n        this.$refs.searchMap.$refs.input.value = ''\r\n      } else {\r\n        // if (!this.isAddMarker) {\r\n        //   this.alertError('Please Choose Marker On Map To Save Data')\r\n        //   return\r\n        // }\r\n        this.subportfolioChoosed = null\r\n        this.$refs.modalSubPortfolio.show()\r\n      }\r\n    },\r\n    saveMap () {\r\n      // this.alertConfirmation(\"Are You Sure Want To Save This Data ?\")\r\n      //   .then(ress => {\r\n      //     if (ress.value) {\r\n            var param = {\r\n              SubPortfolioCd: this.subportfolioChoosed,\r\n              Latitude: this.markerTemporary.lat,\r\n              Longitude: this.markerTemporary.lng,\r\n              UserId: this.getDataUser().UserId\r\n            }\r\n            this.postEncode(this.getUrlInsertSubportfolio(), param)\r\n            .then((response) => {\r\n              if (response == null) return\r\n\r\n              this.currentPlace = null\r\n              this.markerTemporary = null\r\n\r\n              this.alertSuccess(\"Data Has Been Saved Successfully.\")\r\n              this.getSubportfolio()\r\n              this.$refs.modalSubPortfolio.hide()\r\n              this.captionButton = 'Add Marker'\r\n              this.isAddMarker = false\r\n              this.$refs.searchMap.$refs.input.disabled = false\r\n              \r\n            })\r\n      //     }\r\n      // })\r\n    },\r\n    deleteMap (marker) {\r\n      if (this.isAddMarker) {\r\n        this.alertError('Please Finish Marker Or Cancel')\r\n        return\r\n      }\r\n      var x\r\n      var subportfolioCode\r\n      var label\r\n      for (x = 0 ; x < this.subportfolioList.length ; x ++) {\r\n        if (this.subportfolioList[x].Latitude == marker.position.lat && this.subportfolioList[x].Longitude == marker.position.lng) {\r\n          subportfolioCode = this.subportfolioList[x].id\r\n          label = this.subportfolioList[x].label\r\n          // this.markers.push({ position: marker })\r\n          break\r\n        }\r\n      }\r\n      this.alertConfirmation(\"Are You Sure Want To Delete \" + label + \" ?\")\r\n        .then(ress => {\r\n          if (ress.value) {\r\n            var param = {\r\n              SubPortfolioCd: subportfolioCode,\r\n              UserId: this.getDataUser().UserId\r\n            }\r\n            this.postEncode(this.getUrlDeleteSubportfolio(), param)\r\n            .then((response) => {\r\n              if (response == null) return\r\n\r\n              this.currentPlace = null\r\n              this.markerTemporary = null\r\n\r\n              this.alertSuccess(\"Data Has Been Deleted Successfully\")\r\n              this.getSubportfolio()\r\n              this.$refs.modalSubPortfolio.hide()\r\n              \r\n            })\r\n          }\r\n      })\r\n    },\r\n    getSubportfolio () {\r\n      var param = {\r\n        UserId: this.getDataUser().UserId\r\n      }\r\n      this.postEncode(this.getUrlSubportfolio(), param)\r\n      .then((response) => {\r\n        if (response == null) return\r\n        \r\n        this.subportfolioList = response.Data\r\n        this.markers = []\r\n        for (let x = 0 ; x < this.subportfolioList.length ; x ++) {\r\n\r\n          if (this.subportfolioList[x].Latitude != null && this.subportfolioList[x].Longitude != null) {\r\n            const marker = {\r\n              lat: parseFloat(this.subportfolioList[x].Latitude),\r\n              lng: parseFloat(this.subportfolioList[x].Longitude)\r\n            }\r\n            this.markers.push({ position: marker })\r\n          }\r\n        }\r\n        \r\n      })\r\n    },\r\n    zoomChanged (zoom) {\r\n      this.zoomMap = zoom\r\n    },\r\n    addMarkerOnMapClick (place) {\r\n      // console.log(place)\r\n      if (this.captionButton == 'Add Marker') {\r\n        return\r\n      }\r\n\r\n      if (this.isAddMarker) {\r\n        return\r\n      }\r\n\r\n      this.markerTemporary = {\r\n        lat: place.latLng.lat(),\r\n        lng: place.latLng.lng()\r\n      }\r\n      // this.center = this.markerTemporary\r\n      // this.zoomMap = 15\r\n      this.addMarker()\r\n    },\r\n    // receives a place object via the autocomplete component\r\n    setPlace(place) {\r\n      this.currentPlace = place\r\n      \r\n      const marker = {\r\n        lat: this.currentPlace.geometry.location.lat(),\r\n        lng: this.currentPlace.geometry.location.lng()\r\n      }\r\n      this.center = marker\r\n      this.zoomMap = 12\r\n\r\n      this.changeStatus()\r\n      this.addMarker()\r\n      this.$refs.searchMap.$refs.input.disabled = true\r\n      this.$refs.searchMap.$refs.input.value = ''\r\n    },\r\n    // addMarker() {\r\n    //   if (this.currentPlace) {\r\n    //   const marker = {\r\n    //     lat: this.currentPlace.geometry.location.lat(),\r\n    //     lng: this.currentPlace.geometry.location.lng()\r\n    //   };\r\n    //   this.markers.push({ position: marker })\r\n    //   this.places.push(this.currentPlace)\r\n    //   this.center = marker\r\n    //   this.currentPlace = null\r\n    // }\r\n    addMarker () {\r\n      // auto complete\r\n      if (this.currentPlace) {\r\n        this.markerTemporary = {\r\n          lat: this.currentPlace.geometry.location.lat(),\r\n          lng: this.currentPlace.geometry.location.lng()\r\n        }\r\n        this.center = this.markerTemporary\r\n        this.currentPlace = null\r\n      } else {\r\n        // onclick add marker\r\n        // this.center = this.markerTemporary\r\n      }\r\n      // this.markers.push({ position: this.markerTemporary })\r\n      this.isAddMarker = true\r\n      this.markers.push(\r\n        {\r\n          position: this.markerTemporary,\r\n          icon: \"http://maps.google.com/mapfiles/ms/icons/blue-dot.png\",\r\n          draggable: true\r\n        }\r\n      )\r\n      // this.currentPlace = null\r\n      // this.markerTemporary = null\r\n    },\r\n    // showProperty (marker) {\r\n    //   alert(JSON.stringify(marker))\r\n    // },\r\n    geolocate: function() {\r\n      navigator.geolocation.getCurrentPosition(position => {\r\n        this.center = {\r\n          lat: position.coords.latitude,\r\n          lng: position.coords.longitude\r\n        };\r\n      });\r\n    }\r\n  },\r\n  \r\n  mounted () {\r\n    this.getSubportfolio()\r\n    this.getUrlLookUpSubportfolioData()\r\n    this.geolocate()\r\n  },\r\n    \r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TN_TesGoogleMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TN_TesGoogleMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TN_TesGoogleMap.vue?vue&type=template&id=552d1be1&\"\nimport script from \"./TN_TesGoogleMap.vue?vue&type=script&lang=js&\"\nexport * from \"./TN_TesGoogleMap.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"TN_TesGoogleMap.vue\"\nexport default component.exports"],"sourceRoot":""}