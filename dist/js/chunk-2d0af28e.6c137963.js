(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0af28e"],{"0caf":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ABSListVuex",{attrs:{prop:e.propList,title:e.data.QueryName},on:{rowClicked:e.$parent.rowClicked,rowDblClicked:e.$parent.doDoubleClick,rowLinkClick:e.$parent.rowLink,pageSize:e.$parent.M_PageSize,pagination:e.$parent.M_Pagination,filter:e.$parent.M_Advance_Filter,headTable:e.$parent.M_Head_Table,refreshColumn:e.$parent.refreshColumn}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.$parent.showForm,expression:"$parent.showForm"}],staticClass:"el",style:"margin-top:10px;",attrs:{mousetip:"","mousetip-msg":"I'm a tooltip"}},[a("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse1",modifiers:{collapse1:!0}}],staticClass:"div-collapse"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.IEBy.Input&&e.IEBy.Edit,expression:"IEBy.Input && IEBy.Edit"}],staticClass:"master-span"},[e._v("\n                    Input By : "+e._s(e.IEBy.Input)+" | Edit By : "+e._s(e.IEBy.Edit)+" "),a("font-awesome-icon",{staticClass:"icon-style-1__master",attrs:{icon:"sort-down"}})],1)]),a("b-collapse",{attrs:{id:"collapse1",visible:!0}},[a("b-row",{staticStyle:{"padding-left":"10px","padding-bottom":"10px"}},[a("b-col",{staticClass:"bColMasterForm",attrs:{md:"12",id:"col-left"}},[a("b-form",{attrs:{"data-vv-scope":"FormScope_"+e.PageLevel+"_"+e.TabIndex,"data-vv-value-path":"FormScope_"+e.PageLevel+"_"+e.TabIndex}},[a("b-row",{staticStyle:{"padding-left":"10px"}},[a("b-col",{attrs:{md:"12",id:"col-left"}},[a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_creditno",attrs:{prop:e.PI_creditno},model:{value:e.M_AP_AllocationD.creditno,callback:function(t){e.$set(e.M_AP_AllocationD,"creditno",t)},expression:"M_AP_AllocationD.creditno"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_referenceno",attrs:{prop:e.PI_referenceno},model:{value:e.M_AP_AllocationD.referenceno,callback:function(t){e.$set(e.M_AP_AllocationD,"referenceno",t)},expression:"M_AP_AllocationD.referenceno"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_trxtype",attrs:{prop:e.PI_trxtype},model:{value:e.M_AP_AllocationD.trxtype,callback:function(t){e.$set(e.M_AP_AllocationD,"trxtype",t)},expression:"M_AP_AllocationD.trxtype"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_headerdescs",attrs:{prop:e.PI_headerdescs},model:{value:e.M_AP_AllocationD.headerdescs,callback:function(t){e.$set(e.M_AP_AllocationD,"headerdescs",t)},expression:"M_AP_AllocationD.headerdescs"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSTextAreaVuex",{ref:"ref_descs",attrs:{prop:e.PI_descs},model:{value:e.M_AP_AllocationD.descs,callback:function(t){e.$set(e.M_AP_AllocationD,"descs",t)},expression:"M_AP_AllocationD.descs"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputRadioButtonVuex",{ref:"ref_vatpaidby",attrs:{prop:e.PI_vatpaidby},on:{input:e.OnvatpaidbyChange},model:{value:e.M_AP_AllocationD.vatpaidby,callback:function(t){e.$set(e.M_AP_AllocationD,"vatpaidby",t)},expression:"M_AP_AllocationD.vatpaidby"}})],1),a("b-col",{attrs:{md:"6"}},[a("ABSinputRadioButtonVuex",{ref:"ref_withholdingpaidby",attrs:{prop:e.PI_withholdingpaidby},on:{input:e.OnwithholdingpaidbyChange},model:{value:e.M_AP_AllocationD.withholdingpaidby,callback:function(t){e.$set(e.M_AP_AllocationD,"withholdingpaidby",t)},expression:"M_AP_AllocationD.withholdingpaidby"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_outstandingamt",attrs:{prop:e.PI_outstandingamt},model:{value:e.M_AP_AllocationD.outstandingamt,callback:function(t){e.$set(e.M_AP_AllocationD,"outstandingamt",t)},expression:"M_AP_AllocationD.outstandingamt"}})],1),a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_totalallocatedamt",attrs:{prop:e.PI_totalallocatedamt},on:{input:e.OntotalallocateamtChange},model:{value:e.M_AP_AllocationD.totalallocatedamt,callback:function(t){e.$set(e.M_AP_AllocationD,"totalallocatedamt",t)},expression:"M_AP_AllocationD.totalallocatedamt"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_debitcurrencycd",attrs:{prop:e.PI_creditcurrencycd},model:{value:e.M_AP_AllocationD.creditcurrencycd,callback:function(t){e.$set(e.M_AP_AllocationD,"creditcurrencycd",t)},expression:"M_AP_AllocationD.creditcurrencycd"}})],1),a("b-col",{attrs:{md:"6"}},[a("ABSinputRadioButtonVuex",{ref:"ref_operator",attrs:{prop:e.PI_operator},on:{input:e.OnoperatorChange},model:{value:e.M_AP_AllocationD.operator,callback:function(t){e.$set(e.M_AP_AllocationD,"operator",t)},expression:"M_AP_AllocationD.operator"}})],1)],1),a("div",{staticClass:"div-collapse"},[a("b-row",[a("b-col",{attrs:{md:"2"}}),a("b-col",{attrs:{md:"2"}},[a("ABSLabelOnly",{attrs:{prop:{cLabel:"Outstanding Amount",cLabelSize:4,cValue:"",cPageLevel:e.PageLevel,cTabIndex:e.TabIndex,cVisible:!0,cClass:"lbl-col-align"}}})],1),a("b-col",{attrs:{md:"2"}},[a("ABSLabelOnly",{attrs:{prop:{cLabel:"Currency Rate",cLabelSize:4,cValue:"",cPageLevel:e.PageLevel,cTabIndex:e.TabIndex,cVisible:!0,cClass:"lbl-col-align"}}})],1),a("b-col",{attrs:{md:"2"}},[a("ABSLabelOnly",{attrs:{prop:{cLabel:"Allocation Amount",cLabelSize:4,cValue:"",cPageLevel:e.PageLevel,cTabIndex:e.TabIndex,cVisible:!0,cClass:"lbl-col-align"}}})],1),a("b-col",{attrs:{md:"2"}},[a("ABSLabelOnly",{attrs:{prop:{cLabel:"Allocation Currency Rate",cLabelSize:4,cValue:"",cPageLevel:e.PageLevel,cTabIndex:e.TabIndex,cVisible:!0,cClass:"lbl-col-align"}}})],1)],1)],1),e._l(e.DebitCharge,function(t,r){return a("b-row",{key:r},[a("b-col",{attrs:{md:"2"}},[a("ABSLabelOnly",{attrs:{prop:t.props.label}})],1),a("b-col",{directives:[{name:"show",rawName:"v-show",value:"VIEW"!==e.inputStatus,expression:"inputStatus!=='VIEW'"}],attrs:{md:"2"}},[a("b-form-input",{ref:"ref_outstanding_"+(r+1),refInFor:!0,staticClass:"text-field-form form-control input",staticStyle:{"text-align":"right"},attrs:{name:t.props.outstanding.cName,id:t.props.outstanding.cName,rowLine:"0",type:"text",disabled:"disabled"},on:{input:function(a){e.handleInput(r,t.data.outstanding,"outstanding")},blur:function(a){e.onBlur("outstanding",t.data.outstanding)}},nativeOn:{keypress:function(a){e.formatNumber(a,r,t.data.outstanding,"outstanding")},blur:function(a){e.isCurrency2(r,t.data.outstanding,"outstanding")}},model:{value:t.data.outstanding,callback:function(a){e.$set(t.data,"outstanding",a)},expression:"data.data.outstanding"}})],1),"VIEW"==e.inputStatus&&"decimal"==t.props.outstanding.cType?a("b-col",{staticStyle:{"text-align":"right !important"},attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.outstanding))])]):"VIEW"==e.inputStatus&&"numeric"==t.props.outstanding.cType?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.outstanding))])]):"VIEW"==e.inputStatus?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.outstanding))])]):e._e(),a("b-col",{directives:[{name:"show",rawName:"v-show",value:"VIEW"!==e.inputStatus,expression:"inputStatus!=='VIEW'"}],attrs:{md:"2"}},[a("b-form-input",{ref:"ref_currencyrate_"+(r+1),refInFor:!0,staticClass:"text-field-form form-control input",staticStyle:{"text-align":"right"},attrs:{name:t.props.currencyrate.cName,id:t.props.currencyrate.cName,rowLine:"0",type:"text",disabled:"disabled"},on:{input:function(a){e.handleInput(r,t.data.currencyrate,"currencyrate")},blur:function(a){e.onBlur("currencyrate",r,t.data.currencyrate)}},nativeOn:{keypress:function(a){e.formatNumber(a,r,t.data.currencyrate,"currencyrate")},blur:function(a){e.isCurrency2(r,t.data.currencyrate,"currencyrate")}},model:{value:t.data.currencyrate,callback:function(a){e.$set(t.data,"currencyrate",a)},expression:"data.data.currencyrate"}})],1),"VIEW"==e.inputStatus&&"decimal"==t.props.currencyrate.cType?a("b-col",{staticStyle:{"text-align":"right !important"},attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.currencyrate))])]):"VIEW"==e.inputStatus&&"numeric"==t.props.currencyrate.cType?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.currencyrate))])]):"VIEW"==e.inputStatus?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.currencyrate))])]):e._e(),a("b-col",{directives:[{name:"show",rawName:"v-show",value:"VIEW"!==e.inputStatus,expression:"inputStatus!=='VIEW'"}],attrs:{md:"2"}},[a("b-form-input",{ref:"ref_allocamt_"+(r+1),refInFor:!0,staticClass:"text-field-form form-control input",staticStyle:{"text-align":"right"},attrs:{name:t.props.allocamt.cName,id:t.props.allocamt.cName,rowLine:"0",type:"text"},on:{input:function(a){e.handleInput(r,t.data.allocamt,"allocamt")},blur:function(a){e.onBlur("allocamt",r,t.data.allocamt)}},nativeOn:{keypress:function(a){e.formatNumber(a,r,t.data.allocamt,"allocamt")},blur:function(a){e.isCurrency2(r,t.data.allocamt,"allocamt")}},model:{value:t.data.allocamt,callback:function(a){e.$set(t.data,"allocamt",a)},expression:"data.data.allocamt"}})],1),"VIEW"==e.inputStatus&&"decimal"==t.props.allocamt.cType?a("b-col",{staticStyle:{"text-align":"right !important"},attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.allocamt))])]):"VIEW"==e.inputStatus&&"numeric"==t.props.allocamt.cType?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.allocamt))])]):"VIEW"==e.inputStatus?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.allocamt))])]):e._e(),a("b-col",{directives:[{name:"show",rawName:"v-show",value:"VIEW"!==e.inputStatus,expression:"inputStatus!=='VIEW'"}],attrs:{md:"2"}},[a("b-form-input",{ref:"ref_alloccurrencyrate_"+(r+1),refInFor:!0,staticClass:"text-field-form form-control input",staticStyle:{"text-align":"right"},attrs:{name:t.props.alloccurrencyrate.cName,id:t.props.alloccurrencyrate.cName,rowLine:"0",type:"text",disabled:"disabled"},on:{input:function(a){e.handleInput(r,t.data.alloccurrencyrate,"alloccurrencyrate")},blur:function(a){e.onBlur("alloccurrencyrate",r,t.data.alloccurrencyrate)}},nativeOn:{keypress:function(a){e.formatNumber(a,r,t.data.alloccurrencyrate,"alloccurrencyrate")},blur:function(a){e.isCurrency2(r,t.data.alloccurrencyrate,"alloccurrencyrate")}},model:{value:t.data.alloccurrencyrate,callback:function(a){e.$set(t.data,"alloccurrencyrate",a)},expression:"data.data.alloccurrencyrate"}})],1),"VIEW"==e.inputStatus&&"decimal"==t.props.alloccurrencyrate.cType?a("b-col",{staticStyle:{"text-align":"right !important"},attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.alloccurrencyrate))])]):"VIEW"==e.inputStatus&&"numeric"==t.props.alloccurrencyrate.cType?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.alloccurrencyrate))])]):"VIEW"==e.inputStatus?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.alloccurrencyrate))])]):e._e()],1)}),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSTextAreaVuex",{ref:"ref_remarks",attrs:{prop:e.PI_remarks},on:{input:e.OnremarksChange},model:{value:e.M_AP_AllocationD.remarks,callback:function(t){e.$set(e.M_AP_AllocationD,"remarks",t)},expression:"M_AP_AllocationD.remarks"}})],1)],1)],2)],1),a("ABSTAnalysis",{attrs:{prop:e.PTAnalysis}})],1)],1)],1)],1)],1)],1)},i=[],c=(a("a481"),a("28a5"),a("6b54"),a("ade3")),l={props:{PageLevel:"",TabIndex:"",data:""},data:function(){var e;return{ValKey:null,FormType:"List",Module:"AP",propList:{initialWhere:"",LineNo:this.$parent.data.PageOrder,PageLevel:this.PageLevel,TabIndex:this.TabIndex,OrderBy:"",SourceField:"",ParamView:""},IEBy:{Input:"",Edit:""},M_AP_AllocationD:(e={autounderover:"",journalcategory:"",creditno:"",referenceno:"",trxtype:"",descs:"",headerdescs:"",creditcurrencycd:"",currencyrate:"",vatpaidby:"",withholdingpaidby:"",taxcurrencyrate:"",remarks:"",totalallocatedamt:"0",currentcurrencyrate:"",currenttaxcurrencyrate:"",operator:"",taxcd:"",rowid:0,lastupdatestamp:0,toutstandingamt:"",detailoutstandingamt:"",detailcurrencyrate:"",detailallocamt:"",outstandingamt:"",fullallocate:""},Object(c["a"])(e,"detailoutstandingamt",""),Object(c["a"])(e,"debitcurrencyrate",""),Object(c["a"])(e,"allocationamt","0"),Object(c["a"])(e,"creditcurrencyrate","0"),e),PI_kautounderover:{cValidate:"",cName:"kautounderover",cLabel:"",cLabelSize:4,cOptions:[{text:"Otomatis Isikan Sisa Total Alokasi dengan Total Pembayaran ke Over/Under Payment ? ",value:"Y"}],cOrder:101,cKey:!1,cVisible:!0,cProtect:!1,cDefault:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_creditno:{cValidate:"",cLabel:"Doc. No",cLabelSize:4,cValue:"",cOrder:102,cKey:!1,cVisible:!0,cProtect:!0,cDefault:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_referenceno:{cValidate:"",cLabel:"Reference No",cLabelSize:4,cValue:"",cOrder:102,cKey:!1,cVisible:!0,cProtect:!0,cDefault:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_trxtype:{cValidate:"",cLabel:"Trans. Type",cLabelSize:4,cValue:"",cOrder:103,cKey:!1,cVisible:!0,cProtect:!0,cDefault:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_headerdescs:{cValidate:"",cLabel:"Description",cLabelSize:4,cValue:"",cOrder:104,cKey:!1,cVisible:!0,cProtect:!0,cDefault:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_descs:{cValidate:"",cLabel:"Detail Description",cLabelSize:4,cValue:"",cOrder:105,cKey:!1,cVisible:!0,cProtect:!0,cDefault:"",cResize:!1,cReadOnly:!1,cRows:2,cMaxRows:2,cSize:"md",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_vatpaidby:{cValidate:"",cName:"vatpaidby",cId:"rdbvatpaidby",cRadioOptions:[{text:"Creditor",value:"C"},{text:"Management",value:"M"}],cRadioDefaultOption:"",cLabel:"VAT Paid By",cLabelSize:4,cOrder:106,cProtect:!0,cVisible:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_withholdingpaidby:{cValidate:"",cName:"withholdingpaidby",cId:"rdbwithholdingpaidby",cRadioOptions:[{text:"Debtor",value:"D"},{text:"Management",value:"M"}],cRadioDefaultOption:"",cLabel:"Withholding Paid By   ",cLabelSize:4,cOrder:107,cProtect:!0,cVisible:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_outstandingamt:{cLabel:"Outstanding Amount",cLabelSize:4,cValue:"",cType:"decimal",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cVisible:!0,cProtect:!0},PI_totalallocatedamt:{cValidate:"required",cName:"totalallocatedamt",cLabel:"Allocation Amount",cLabelSize:4,cOrder:108,cKey:!1,cType:"decimal",cVisible:!0,cProtect:!1,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_fullallocate:{cValidate:"",cName:"fullallocate",cLabel:"Allocation",cLabelSize:4,cOptions:[{text:"Auto Allocate",value:"Y"}],cOrder:108,cKey:!1,cVisible:!1,cProtect:!1,cDefault:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_creditcurrencycd:{cValidate:"",cLabel:"Currency",cLabelSize:4,cValue:"",cOrder:110,cKey:!1,cVisible:!0,cProtect:!0,cDefault:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_operator:{cValidate:"",cName:"operator",cId:"rdboperator",cRadioOptions:[{text:"Multiply (*)",value:"*"},{text:"Divide (/)",value:"/"}],cRadioDefaultOption:"",cLabel:"Operator",cLabelSize:4,cOrder:111,cProtect:!0,cVisible:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_detailoutstandingamt:{cLabel:"",cLabelSize:4,cValue:"",cType:"decimal",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cVisible:!0,cProtect:!0},PI_detailcurrencyrate:{cLabel:"",cLabelSize:4,cValue:"",cType:"decimal",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cVisible:!0,cProtect:!0},PI_detailallocamt:{cValidate:"",cName:"allocationamt",cLabel:"",cLabelSize:4,cOrder:112,cKey:!1,cType:"decimal",cVisible:!0,cProtect:!1,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_detailalloccurrencyamt:{cValidate:"",cName:"creditcurrencyrate",cLabel:"",cLabelSize:4,cOrder:113,cKey:!1,cType:"decimal",cVisible:!0,cProtect:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_remarks:{cValidate:"",cName:"remarks",cLabel:"Remarks",cLabelSize:4,cOrder:114,cKey:!1,cDefault:"",cProtect:!1,cVisible:!0,cResize:!1,cReadOnly:!1,cRows:3,cMaxRows:3,cSize:"md",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PTAnalysis:{cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cPageMasterSeq:this.data.PageMasterSeq,cFormPageNo:this.data.PageOrder},DataDetail:null,DebitCharge:[],TotalCharge:0,FnAllocationAmt:0,BaseCurrencyCd:""}},computed:{inputStatus:function(){return this.$store.getters.getLevel==this.PageLevel&&this.$store.getters.getTab==this.TabIndex?this.$store.getters.getStatus.toUpperCase():"VIEW"},DataRow:function(){return this.$store.getters.GetPage2Data},DataRowPage1:function(){return this.$store.getters.GetPage1Data}},methods:{OnkautounderoverChange:function(e){var t=this;this.$nextTick(function(){t.inputStatus}),this.$forceUpdate()},OnvatpaidbyChange:function(e){var t=this;this.$nextTick(function(){t.inputStatus}),this.$forceUpdate()},OnwithholdingpaidbyChange:function(e){var t=this;this.$nextTick(function(){t.inputStatus}),this.$forceUpdate()},OnfullallocateChange:function(e){var t=this;this.$nextTick(function(){if("VIEW"!=t.inputStatus)if("Y"==e){t.M_AP_AllocationD.totalallocatedamt=t.isCurrency(t.TotalCharge,t.decimal);for(var a=0;a<t.DebitCharge.length;a++)console.log("OnfullallocateChange",t.DebitCharge[a].data.outstanding),t.DebitCharge[a].data.allocamt=t.DebitCharge[a].data.outstanding}else{t.M_AP_AllocationD.totalallocatedamt="0";for(var r=0;r<t.DebitCharge.length;r++)t.DebitCharge[r].data.allocamt="0"}}),this.$forceUpdate()},OnoperatorChange:function(e){var t=this;this.$nextTick(function(){t.inputStatus}),this.$forceUpdate()},OnremarksChange:function(e){var t=this;this.$nextTick(function(){t.inputStatus}),this.$forceUpdate()},setToolbarButton:function(){this.getToolbar().statusFunction[0].disabled=!0},M_Head_Table:function(){},M_PageSize:function(){},M_TabClick:function(){},M_Pagination:function(){},M_Advance_Filter:function(){},M_Search:function(e){},M_Refresh:function(){},M_Cancel:function(){},doDoubleClick:function(){},rowClicked:function(e,t){},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},rowLink:function(e){this.$refs.modalTest.show()},paramFromParent:function(){this.$parent.showForm=!1;var e=this.$store.getters.GetPage1Data;this.M_AP_AllocationD.creditcurrencycd=e.CurrencyCd,this.getSpec()},M_Insert:function(){},M_Update:function(){this.DataRow.DebitSequenceNo,this.M_UpdateOR()},InsertOR:function(){if("I"!=this.M_AP_AllocationD.journalcategory||0!=this.DataDetail[x].AllocationAmt){({_Method_:"UPDATE",_LineNo_:this.$parent.data.PageOrder,SubportfolioCd:this.getDataUser().SubPortfolioCd,DebitNo:this.M_AP_AllocationD.creditno,DebitSequenceNo:this.DataRow.DebitSequenceNo,CreditNo:this.DataRowPage1.CreditNo,CreditSequenceNo:this.DataRow.DebitSequenceNo,VatPaidByManagement:"M"==this.M_AP_AllocationD.vatpaidby?"Y":"N",VatPaidByDebtor:"C"==this.M_AP_AllocationD.vatpaidby?"Y":"N",WithHoldingPaidByManagement:"M"==this.M_AP_AllocationD.withholdingpaidby?"Y":"N",WithHoldingPaidByDebtor:"D"==this.M_AP_AllocationD.withholdingpaidby?"Y":"N",JournalCategory:this.M_AP_AllocationD.journalcategory,AllocationAmt:this.replaceAllString(this.M_AP_AllocationD.totalallocatedamt,",","","number"),CurrencyOperator:this.M_AP_AllocationD.operator,Remarks:this.M_AP_AllocationD.remarks?this.M_AP_AllocationD.remarks:"",UserInput:this.getDataUser().UserId})}},M_UpdateOR:function(){var e=this,t=[],a={};a={_Method_:"UPDATE",_LineNo_:this.$parent.data.PageOrder,SubportfolioCd:this.getDataUser().SubPortfolioCd,CreditSequenceNo:this.DataRow.CreditSequenceNo,DebitNo:this.DataRowPage1.DebitNo,CurrencyOperator:this.M_AP_AllocationD.operator,Remarks:this.M_AP_AllocationD.remarks?this.M_AP_AllocationD.remarks:"",UserInput:this.getDataUser().UserId,DebitSequenceNo_Output:""};var r="DebitSequenceNo";r=0==this.DataRow.DebitSequenceNo?"DebitSequenceNo":this.DataRow.DebitSequenceNo;var i=[];if(0==this.DataRow.DebitSequenceNo)for(var c=0;c<this.DataDetail.length;c++)i.push({_Method_:"SAVE",_LineNo_:2,DebitSequenceNo:r,CreditDetailSequenceNo:this.DataDetail[c].CreditDetailSequenceNo,CurrencyOperator:this.M_AP_AllocationD.operator,CreditCurrencyCd:this.M_AP_AllocationD.creditcurrencycd,DebitCurrencyCd:this.DataRowPage1.CurrencyCd,CreditCurrencyRate:this.replaceAllString(this.isCurrency(this.DataDetail[c].CurrencyRate,this.decimal),",","","number"),DebitCurrencyRate:this.replaceAllString(this.isCurrency(this.DataDetail[c].AllocationCurrencyRate,this.decimal),",","","number"),AllocationAmt:this.replaceAllString(this.DebitCharge[c].data.allocamt,",","","number"),UserInput:this.getDataUser().UserId});else for(var l=0;l<this.DataDetail.length;l++)1==this.isNumeric(this.DataDetail[l].DebitDetailSequenceNo)?i.push({_Method_:"UPDATE",_LineNo_:3,DebitSequenceNo:this.DataRow.DebitSequenceNo,CreditDetailSequenceNo:this.DataDetail[l].CreditDetailSequenceNo,DebitDetailSequenceNo:this.DataDetail[l].DebitDetailSequenceNo,CurrencyOperator:this.M_AP_AllocationD.operator,CreditCurrencyCd:this.M_AP_AllocationD.creditcurrencycd,DebitCurrencyCd:this.DataRowPage1.CurrencyCd,CreditCurrencyRate:this.replaceAllString(this.isCurrency(this.DataDetail[l].CurrencyRate,this.decimal),",","","number"),DebitCurrencyRate:this.replaceAllString(this.isCurrency(this.DataDetail[l].AllocationCurrencyRate,this.decimal),",","","number"),AllocationAmt:this.replaceAllString(this.DebitCharge[l].data.allocamt,",","","number"),UserEdit:this.getDataUser().UserId}):0!=this.replaceAllString(this.DebitCharge[l].data.allocamt,",","","number")&&i.push({_Method_:"SAVE",_LineNo_:2,DebitSequenceNo:r,CreditDetailSequenceNo:this.DataDetail[l].CreditDetailSequenceNo,CurrencyOperator:this.M_AP_AllocationD.operator,CreditCurrencyCd:this.M_AP_AllocationD.creditcurrencycd,DebitCurrencyCd:this.DataRowPage1.CurrencyCd,CreditCurrencyRate:this.replaceAllString(this.isCurrency(this.DataDetail[l].CurrencyRate,this.decimal),",","","number"),DebitCurrencyRate:this.replaceAllString(this.isCurrency(this.DataDetail[l].AllocationCurrencyRate,this.decimal),",","","number"),AllocationAmt:this.replaceAllString(this.DebitCharge[l].data.allocamt,",","","number"),UserInput:this.getDataUser().UserId});var o={};o={_Method_:"UPDATE2",_LineNo_:2,SubPortfolioCd:this.getDataUser().SubPortfolioCd,DebitSequenceNo:r,DebitNo:this.DataRowPage1.DebitNo,CurrencyOperator:this.M_AP_AllocationD.operator,Remarks:this.M_AP_AllocationD.remarks?this.M_AP_AllocationD.remarks:"",UserEdit:this.getDataUser().UserId,EntryType:"P"},0==this.DataRow.DebitSequenceNo?t.push({A_Update:a,B_Looping:i,C_Update:o}):t.push({A_Looping:i,B_Update:o});var n={OptionSeq:this.getOptionSeq().OptionSeq,LineNo:this.$parent.data.PageOrder,Data:t};this.postJSONMulti(this.getUrlProsesDataPostMulti(),n).then(function(t){null!=t&&(e.$parent.resultUpdate("Data Has Been Saved Successfully"),e.refreshListParent(!0))})},M_ClearForm:function(){var e;this.M_AP_AllocationD=(e={autounderover:"",journalcategory:"",creditno:"",referenceno:"",trxtype:"",descs:"",headerdescs:"",creditcurrencycd:"",currencyrate:"",vatpaidby:"",withholdingpaidby:"",taxcurrencyrate:"",remarks:"",totalallocatedamt:"0",currentcurrencyrate:"",currenttaxcurrencyrate:"",operator:"",taxcd:"",rowid:0,lastupdatestamp:0,toutstandingamt:"",detailoutstandingamt:"",detailcurrencyrate:"",detailallocamt:"",outstandingamt:"",fullallocate:""},Object(c["a"])(e,"detailoutstandingamt",""),Object(c["a"])(e,"debitcurrencyrate",""),Object(c["a"])(e,"allocationamt","0"),Object(c["a"])(e,"creditcurrencyrate","0"),e),this.DataDetail=null,this.DebitCharge=[],this.TotalCharge=0,this.FnAllocationAmt=0},M_New:function(){var e=this.$store.getters.GetPage1Data;this.M_AP_AllocationD.creditcurrencycd=e.CurrencyCd},M_Edit:function(){},M_Delete:function(e){},getSpec:function(){var e=this,t={OptionFunctionCd:"GetGLSpecification",ModuleCd:"GL"};this.FnDynamicFunction(t).then(function(t){if(console.log("GL Spec",JSON.stringify(t,null,2)),null!=t&&null!=t&&t.length>0){var a=t[0];e.BaseCurrencyCd=a.BaseCurrencyCd,e.DataRowPage1.DebitNo&&""!=e.DataRowPage1.DebitNo?e.DataRowPage1.CurrencyCd.toUpperCase()!=a.BaseCurrencyCd.toUpperCase()?(e.propList.initialWhere=" (CurrencyCd = '"+e.DataRowPage1.CurrencyCd+"' OR CurrencyCd = '"+a.BaseCurrencyCd+"') ",e.propList.ParamView="'"+e.getDataUser().SubPortfolioCd+"', '"+e.DataRowPage1.CreditorCd+"', '"+e.DataRowPage1.CurrencyCd+"', '"+e.DataRowPage1.DebitNo+"'",e.FormToABSList().doGetList("","eb_getList")):(e.propList.ParamView="'"+e.getDataUser().SubPortfolioCd+"', '"+e.DataRowPage1.CreditorCd+"', '"+e.DataRowPage1.CurrencyCd+"', '"+e.DataRowPage1.DebitNo+"'",e.FormToABSList().doGetList("","eb_getList")):(e.propList.initialWhere=" 1 = 0 , '",e.propList.ParamView="'"+e.getDataUser().SubPortfolioCd+"', '"+e.DataRowPage1.CreditorCd+"', '"+e.DataRowPage1.CurrencyCd+"', '"+e.DataRowPage1.DebitNo+"'",e.FormToABSList().doGetList("","eb_getList"))}})},getDataBy:function(e){var t=this,a={OptionFunctionCd:"SelectCreditChargesDebitAllocation",ModuleCd:this.Module,CreditSequenceNo:e.CreditSequenceNo,DebitNo:this.DataRowPage1.DebitNo,SubPortfolioCd:this.getDataUser().SubPortfolioCd};this.FnDynamicFunction(a).then(function(a){if(null!=a){console.log("SelectCreditChargesDebitAllocation",JSON.stringify(a,null,2));var r=[];t.DataDetail=a;for(var i=0,c=0;c<a.length;c++)i+=parseFloat(a[c].ChargeAmt),r.push({data:{AllocatedByOtherDocumentAmt:a[c].AllocatedByOtherDocumentAmt,outstanding:t.isCurrency(a[c].ChargeAmt-a[c].AllocatedByOtherDocumentAmt,t.decimal),currencyrate:t.isCurrency(a[c].CurrencyRate,t.decimal),allocamt:t.isCurrency(a[c].AllocationAmt,t.decimal),alloccurrencyrate:t.isCurrency(a[c].AllocationCurrencyRate,t.decimal)},props:{label:{cLabel:a[c].TaxTypeDescs,cLabelSize:4,cValue:"",cPageLevel:t.PageLevel,cTabIndex:t.TabIndex,cVisible:!0,cClass:"lbl-col-align"},outstanding:{cValidate:"",cName:"outstanding_"+(c+1),cLabel:"",cLabelSize:4,cOrder:102,cKey:!1,cType:"decimal",cVisible:!0,cProtect:!0,cPageLevel:t.PageLevel,cTabIndex:t.TabIndex,cParentForm:"FormScope_"+t.PageLevel+"_"+t.TabIndex,cRowDisable:[]},currencyrate:{cValidate:"",cName:"currencyrate_"+(c+1),cLabel:"",cLabelSize:4,cOrder:102,cKey:!1,cType:"decimal",cVisible:!0,cProtect:!0,cPageLevel:t.PageLevel,cTabIndex:t.TabIndex,cParentForm:"FormScope_"+t.PageLevel+"_"+t.TabIndex,cRowDisable:[]},allocamt:{cValidate:"",cName:"allocamt_"+(c+1),cLabel:"",cLabelSize:4,cOrder:102,cKey:!1,cType:"decimal",cVisible:!0,cProtect:!1,cPageLevel:t.PageLevel,cTabIndex:t.TabIndex,cParentForm:"FormScope_"+t.PageLevel+"_"+t.TabIndex,cRowDisable:[]},alloccurrencyrate:{cValidate:"",cName:"alloccurrencyrate_"+(c+1),cLabel:"",cLabelSize:4,cOrder:102,cKey:!1,cType:"decimal",cVisible:!0,cProtect:!0,cPageLevel:t.PageLevel,cTabIndex:t.TabIndex,cParentForm:"FormScope_"+t.PageLevel+"_"+t.TabIndex,cRowDisable:[]}}});console.log("datas",JSON.stringify(r,null,2)),t.TotalCharge=i,t.DebitCharge=r;var l={OptionSeq:t.getOptionSeq().OptionSeq,LineNo:t.$parent.data.PageOrder,currencycd:e.CurrencyCd,Creditorcd:t.DataRowPage1.CreditorCd,DebitSequenceNo:e.DebitSequenceNo,CreditSequenceNo:e.CreditSequenceNo,DebitNo:t.DataRowPage1.DebitNo,SubportfolioCd:t.getDataUser().SubPortfolioCd};t.postEncode(t.getUrlById(),l).then(function(a){if(null!=a){var r=a.Data[0];t.M_AP_AllocationD={autounderover:"",journalcategory:r.journalcategory,creditno:r.creditno,referenceno:r.referenceno,trxtype:r.trxtype,descs:r.descs,headerdescs:r.headerdescs,creditcurrencycd:r.currencycd,currencyrate:r.currencyrate,vatpaidby:r.vatpaidby,withholdingpaidby:r.withholdingpaidby,taxcurrencyrate:r.taxcurrencyrate,remarks:r.remarks,totalallocatedamt:t.isCurrency(r.totalallocatedamt,t.decimal),currentcurrencyrate:r.currentcurrencyrate,currenttaxcurrencyrate:r.currenttaxcurrencyrate,operator:r.operator,taxcd:r.taxcd,rowid:r.rowid,lastupdatestamp:e.LastUpdateStamp,toutstandingamt:r.toutstandingamt,detailoutstandingamt:r.detailoutstandingamt,detailcurrencyrate:r.detailcurrencyrate,detailallocamt:r.detailallocamt,outstandingamt:t.isCurrency(e.OutstandingAmt),fullallocate:r.totalallocatedamt>0?"Y":"N",debitcurrencyrate:r.debitcurrencyrate,allocationamt:r.allocationamt,creditcurrencyrate:r.creditcurrencyrate},t.IEBy.Input=r.userinput,t.IEBy.Edit=r.useredit,t.$forceUpdate()}})}})},FullAllocate:function(){"Y"==this.M_AP_AllocationD.fullallocate?(this.FnAllocationAmt=this.M_AP_AllocationD.outstandingamt,AutoSplitAllocationAmount()):(this.FnAllocationAmt=0,AutoSplitAllocationAmount())},AutoSplitAllocationAmount:function(){for(var e=this.FnAllocationAmt,t=2,a=0,r=0,i=0,c=0,l=[],o=[],n=0;n<this.DataDetail.length;n++)this.DataDetail[n].ChargeAmt&&""!=this.DataDetail[n].ChargeAmt&&(l.push(this.DataDetail[n].ChargeAmt),a+=parseFloat(this.DataDetail[n].ChargeAmt)),this.DataDetail[n].AllocationAmt&&""!=this.DataDetail[n].AllocationAmt&&o.push(this.DataDetail[n].AllocationAmt);if(0==o.length)return!1;if(0==e)for(var s=0;s<o.length;s++)o[s].value=0;else{r=e,r=this.replaceAllString(r,",","","number");for(var d=0;d<o.length;d++)parseFloat(r)<=0?o[d].value=0:parseFloat(a)>parseFloat(r)?o[d].value=l[d]/a*r:o[d].value=l[d];i=0;for(var u=0;u<o.length;u++)p=o[u].value,p=this.replaceAllString(p,",","","number"),i+=parseFloat(p)}if(c=r-i,0!=c){var p;c*=Math.pow(10,t),c=Math.round(c),c*=Math.pow(10,-1*t);for(var b=0;b<o.length;b++)if(p=o[b].value,p=this.replaceAllString(p,",","","number"),parseFloat(p)+parseFloat(c)<=parseFloat(l[b])){o[b].value=parseFloat(p)+parseFloat(c);break}}},OntotalallocateamtChange:function(e){var t=this;this.$nextTick(function(){if("VIEW"!=t.inputStatus)if(e<=0||""==e)for(var a=0;a<t.DebitCharge.length;a++)t.DebitCharge[a].data.allocamt=t.isCurrency(0,t.decimal);else for(var r=0;r<t.DebitCharge.length;r++){var i=(parseFloat(t.replaceAllString(t.DebitCharge[r].data.outstanding,",","","number"))+parseFloat(t.DebitCharge[r].data.AllocatedByOtherDocumentAmt))/parseFloat(t.TotalCharge)*parseFloat(t.replaceAllString(e,",","","number"));console.log(i),i=Math.round(i),console.log(i),t.DebitCharge[r].data.allocamt=t.isCurrency(i,t.decimal)}}),this.$forceUpdate()},handleInput:function(e,t,a){"text"==this.DebitCharge[e].props[a].cType?t&&(this.DebitCharge[e].data[a]=t.toString()):this.DebitCharge[e].data[a]=t},formatNumber:function(e,t,a,r){e=e||window.event;var i=e.which?e.which:e.keyCode;if("decimal"==this.DebitCharge[t].props[r].cType||"numeric"==this.DebitCharge[t].props[r].cType)if(i>31&&(i<48||i>57)&&46!==i)e.preventDefault();else if(46==i)if("numeric"==this.DebitCharge[t].props[r].cType)e.preventDefault();else{var c=this.DebitCharge[t].data[r];if(-1===c.indexOf("."))return!0;e.preventDefault()}else{if(!(i>64&&i<91||i>96&&i<123||8==i||32==i))return!0;e.preventDefault()}else if(13==i)return!0},isCurrency2:function(e,t,a){if("decimal"==this.DebitCharge[e].props[a].cType&&""!==this.DebitCharge[e].data[a]){var r=this.replaceAllString(this.DebitCharge[e].data[a],",","","number"),i=null;if(r.toString().indexOf(".")>-1)if(i=r.toString().split("."),i[1].length<this.DebitCharge[e].props[a].cDecimal);else{var c=parseFloat(r).toFixed(this.DebitCharge[e].props[a].cDecimal),l=c.toString().split(".");i[0]=l[0],i[1]=l[1]}else i=[r,"00"];var o=i[0]&&""!=i[0]?i[0]:0,n="."+i[1];this.DebitCharge[e].data[a]=o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+n}}},created:function(){},beforeMount:function(){},mounted:function(){this.hideSideBarMenu()},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},o=l,n=a("2877"),s=Object(n["a"])(o,r,i,!1,null,null,null);s.options.__file="AP_DNAllocationD.vue";t["default"]=s.exports}}]);
//# sourceMappingURL=chunk-2d0af28e.6c137963.js.map