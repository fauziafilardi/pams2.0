(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a499c"],{"06aa":function(t,e,a){"use strict";a.r(e);var c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ABSListVuex",{attrs:{prop:t.propList,title:t.data.QueryName},on:{rowClicked:t.$parent.rowClicked,rowDblClicked:t.$parent.doDoubleClick,rowLinkClick:t.$parent.rowLink,pageSize:t.$parent.M_PageSize,pagination:t.$parent.M_Pagination,filter:t.$parent.M_Advance_Filter,headTable:t.$parent.M_Head_Table,refreshColumn:t.$parent.refreshColumn}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.showForm,expression:"$parent.showForm"}],staticClass:"el",style:"margin-top:10px;",attrs:{mousetip:"","mousetip-msg":"I'm a tooltip"}},[a("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse1",modifiers:{collapse1:!0}}],staticClass:"div-collapse"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.IEBy.Input&&t.IEBy.Edit,expression:"IEBy.Input && IEBy.Edit"}],staticClass:"master-span"},[t._v("\n                Input By : "+t._s(t.IEBy.Input)+" | Edit By : "+t._s(t.IEBy.Edit)+" "),a("font-awesome-icon",{staticClass:"icon-style-1__master",attrs:{icon:"sort-down"}})],1)]),a("b-collapse",{attrs:{id:"collapse1",visible:!0}},[a("b-row",{staticStyle:{"padding-left":"10px","padding-bottom":"10px"}},[a("b-col",{staticClass:"bColMasterForm",attrs:{md:"12",id:"col-left"}},[a("b-form",{attrs:{"data-vv-scope":"FormScope_"+t.PageLevel+"_"+t.TabIndex,"data-vv-value-path":"FormScope_"+t.PageLevel+"_"+t.TabIndex}},[a("b-row",{staticStyle:{"padding-left":"10px"}},[a("b-col",{attrs:{md:"12",id:"col-left"}},[a("b-row",[a("b-col",{attrs:{md:"3"}},[a("ABSInputSelectList",{ref:"ref_batchno",attrs:{prop:t.PI_batchno,value:t.M_AR_CNAllocationH.batchno,label:t.M_AR_CNAllocationH.batchnoLabel},on:{change:t.OnbatchnoChange}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"3"}},[a("ABSinputCheckBox",{ref:"ref_status",attrs:{prop:t.PI_status},on:{input:t.OnstatusChange},model:{value:t.M_AR_CNAllocationH.status,callback:function(e){t.$set(t.M_AR_CNAllocationH,"status",e)},expression:"M_AR_CNAllocationH.status"}})],1),a("b-col",{attrs:{md:"3"}},[a("ABSCompute",{ref:"ref_documentcount",attrs:{prop:t.PI_documentcount},model:{value:t.M_AR_CNAllocationH.documentcount,callback:function(e){t.$set(t.M_AR_CNAllocationH,"documentcount",e)},expression:"M_AR_CNAllocationH.documentcount"}})],1),a("b-col",{attrs:{md:"3"}},[a("ABSCompute",{ref:"ref_batchtotal",attrs:{prop:t.PI_batchtotal},model:{value:t.M_AR_CNAllocationH.batchtotal,callback:function(e){t.$set(t.M_AR_CNAllocationH,"batchtotal",e)},expression:"M_AR_CNAllocationH.batchtotal"}})],1),a("b-col",{attrs:{md:"3"}},[a("ABSinputCheckBox",{ref:"ref_batchstatus",attrs:{prop:t.PI_batchstatus},on:{input:t.OnbatchstatusChange},model:{value:t.M_AR_CNAllocationH.batchstatus,callback:function(e){t.$set(t.M_AR_CNAllocationH,"batchstatus",e)},expression:"M_AR_CNAllocationH.batchstatus"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"3"}},[a("ABSCompute",{ref:"ref_currentdocumentcount",attrs:{prop:t.PI_currentdocumentcount},model:{value:t.M_AR_CNAllocationH.currentdocumentcount,callback:function(e){t.$set(t.M_AR_CNAllocationH,"currentdocumentcount",e)},expression:"M_AR_CNAllocationH.currentdocumentcount"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSInputSelectList",{ref:"ref_trxtype",attrs:{prop:t.PI_trxtype,value:t.M_AR_CNAllocationH.trxtype,label:t.M_AR_CNAllocationH.trxtypeLabel},on:{change:t.OntrxtypeChange}})],1),a("b-col",{attrs:{md:"6"}},[a("ABSCompute",{ref:"ref_trxtypedescs",attrs:{prop:t.PI_trxtypedescs},model:{value:t.M_AR_CNAllocationH.trxtypedescs,callback:function(e){t.$set(t.M_AR_CNAllocationH,"trxtypedescs",e)},expression:"M_AR_CNAllocationH.trxtypedescs"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"3"}},[a("ABSCompute",{ref:"ref_currentbatchtotal",attrs:{prop:t.PI_currentbatchtotal},model:{value:t.M_AR_CNAllocationH.currentbatchtotal,callback:function(e){t.$set(t.M_AR_CNAllocationH,"currentbatchtotal",e)},expression:"M_AR_CNAllocationH.currentbatchtotal"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_creditno",attrs:{prop:t.PI_creditno},on:{input:t.OncreditnoChange},model:{value:t.M_AR_CNAllocationH.creditno,callback:function(e){t.$set(t.M_AR_CNAllocationH,"creditno",e)},expression:"M_AR_CNAllocationH.creditno"}})],1),a("b-col",{attrs:{md:"6"}},[a("ABSinputDateVuex",{ref:"ref_creditdate",attrs:{prop:t.PI_creditdate},on:{input:t.OncreditdateChange},model:{value:t.M_AR_CNAllocationH.creditdate,callback:function(e){t.$set(t.M_AR_CNAllocationH,"creditdate",e)},expression:"M_AR_CNAllocationH.creditdate"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSTextAreaVuex",{ref:"ref_descs",attrs:{prop:t.PI_descs},model:{value:t.M_AR_CNAllocationH.descs,callback:function(e){t.$set(t.M_AR_CNAllocationH,"descs",e)},expression:"M_AR_CNAllocationH.descs"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_referenceno",attrs:{prop:t.PI_referenceno},model:{value:t.M_AR_CNAllocationH.referenceno,callback:function(e){t.$set(t.M_AR_CNAllocationH,"referenceno",e)},expression:"M_AR_CNAllocationH.referenceno"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSInputSelectList",{ref:"ref_debtorcd",attrs:{prop:t.PI_debtorcd,value:t.M_AR_CNAllocationH.debtorcd,label:t.M_AR_CNAllocationH.debtorcdLabel},on:{change:t.OndebtorcdChange}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSInputSelectList",{ref:"ref_currencycd",attrs:{prop:t.PI_currencycd,value:t.M_AR_CNAllocationH.currencycd,label:t.M_AR_CNAllocationH.currencycdLabel},on:{change:t.OncurrencycdChange}})],1),a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_currencyrate",attrs:{prop:t.PI_currencyrate},model:{value:t.M_AR_CNAllocationH.currencyrate,callback:function(e){t.$set(t.M_AR_CNAllocationH,"currencyrate",e)},expression:"M_AR_CNAllocationH.currencyrate"}})],1)],1),a("div",{staticClass:"div-collapse"},[a("span",{staticClass:"master-span-form"},[t._v("\n                                        Allocation\n                                    ")])]),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_creditamt",attrs:{prop:t.PI_creditamt},model:{value:t.M_AR_CNAllocationH.creditamt,callback:function(e){t.$set(t.M_AR_CNAllocationH,"creditamt",e)},expression:"M_AR_CNAllocationH.creditamt"}})],1),a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_totalnetallocated",attrs:{prop:t.PI_totalnetallocated},model:{value:t.M_AR_CNAllocationH.totalnetallocated,callback:function(e){t.$set(t.M_AR_CNAllocationH,"totalnetallocated",e)},expression:"M_AR_CNAllocationH.totalnetallocated"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_vatpaidbycustomer",attrs:{prop:t.PI_vatpaidbycustomer},model:{value:t.M_AR_CNAllocationH.vatpaidbycustomer,callback:function(e){t.$set(t.M_AR_CNAllocationH,"vatpaidbycustomer",e)},expression:"M_AR_CNAllocationH.vatpaidbycustomer"}})],1),a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_totalvatallocated",attrs:{prop:t.PI_totalvatallocated},model:{value:t.M_AR_CNAllocationH.totalvatallocated,callback:function(e){t.$set(t.M_AR_CNAllocationH,"totalvatallocated",e)},expression:"M_AR_CNAllocationH.totalvatallocated"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_withholdingpaidbycustomer",attrs:{prop:t.PI_withholdingpaidbycustomer},model:{value:t.M_AR_CNAllocationH.withholdingpaidbycustomer,callback:function(e){t.$set(t.M_AR_CNAllocationH,"withholdingpaidbycustomer",e)},expression:"M_AR_CNAllocationH.withholdingpaidbycustomer"}})],1),a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_totalwithholdingallocated",attrs:{prop:t.PI_totalwithholdingallocated},model:{value:t.M_AR_CNAllocationH.totalwithholdingallocated,callback:function(e){t.$set(t.M_AR_CNAllocationH,"totalwithholdingallocated",e)},expression:"M_AR_CNAllocationH.totalwithholdingallocated"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_totalallocationamt",attrs:{prop:t.PI_totalallocationamt},model:{value:t.M_AR_CNAllocationH.totalallocationamt,callback:function(e){t.$set(t.M_AR_CNAllocationH,"totalallocationamt",e)},expression:"M_AR_CNAllocationH.totalallocationamt"}})],1),a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_allocatedamt",attrs:{prop:t.PI_allocatedamt},model:{value:t.M_AR_CNAllocationH.allocatedamt,callback:function(e){t.$set(t.M_AR_CNAllocationH,"allocatedamt",e)},expression:"M_AR_CNAllocationH.allocatedamt"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_forexgainlossamt",attrs:{prop:t.PI_forexgainlossamt},model:{value:t.M_AR_CNAllocationH.forexgainlossamt,callback:function(e){t.$set(t.M_AR_CNAllocationH,"forexgainlossamt",e)},expression:"M_AR_CNAllocationH.forexgainlossamt"}})],1),a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_balanceamt",attrs:{prop:t.PI_balanceamt},model:{value:t.M_AR_CNAllocationH.balanceamt,callback:function(e){t.$set(t.M_AR_CNAllocationH,"balanceamt",e)},expression:"M_AR_CNAllocationH.balanceamt"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSTextAreaVuex",{ref:"ref_remarks",attrs:{prop:t.PI_remarks},on:{input:t.OnremarksChange},model:{value:t.M_AR_CNAllocationH.remarks,callback:function(e){t.$set(t.M_AR_CNAllocationH,"remarks",e)},expression:"M_AR_CNAllocationH.remarks"}})],1)],1)],1)],1),a("ABSTAnalysis",{attrs:{prop:t.PTAnalysis}})],1)],1)],1)],1)],1)],1)},o=[],l=(a("ac6a"),{props:{PageLevel:"",TabIndex:"",data:""},data:function(){return{cInsertKey:"",FormType:"ListProcess",Module:"AR",propList:{initialWhere:"SubportfolioCd = '"+this.getDataUser().SubPortfolioCd+"'",LineNo:this.$parent.data.PageOrder,PageLevel:this.PageLevel,TabIndex:this.TabIndex,OrderBy:"",SourceField:"",ParamView:""},IEBy:{Input:"",Edit:""},RunningCd:"",M_AR_CNAllocationH:{batchno:0,referenceno:"",debtorcd:"",trxtype:"",creditno:"",creditdate:this.M_FormatingDate(new Date),descs:"",currencycd:"",currencyrate:"0",remarks:"",userinput:"",useredit:this.getDataUser().UserId,allocatedamt:0,creditamt:0,documentcount:0,batchtotal:"",batchstatus:"",debtorname:"",currentbatchtotal:0,currentdocumentcount:0,totalnetallocated:0,totalvatallocated:0,totalwithholdingallocated:0,forexgainlossamt:"",status:"",lastupdatestamp:0,vatpaidbycustomer:"",withholdingpaidbycustomer:"",totalallocationamt:0,trxtypedescs:"",basecurrencycd:"",subportfoliocd:this.getDataUser().SubPortfolioCd,timeedit:"",rowid:0,balanceamt:0},PI_batchno:{dataLookUp:{LookUpCd:"GetLookupARBatchMaster",ColumnDB:"BatchNo",InitialWhere:"SUBPORTFOLIOCD='"+this.getDataUser().SubPortfolioCd+"'",ParamWhere:""},cValidate:"",cName:"batchno",cLabel:"",cKey:!1,cLabelSize:4,cOrder:0,cTriggered:!1,cDefault:"",cProtect:!1,cVisible:!1,cAsync:!1,cFilter:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex,cStatic:!1,cOption:[],cMasterUrl:"AR/AR_BatchMaster",cDisplayColumn:"BatchNo,DocumentCount"},PI_status:{cValidate:"",cName:"status",cLabel:"",cLabelSize:4,cOptions:[],cOrder:0,cKey:!1,cVisible:!1,cProtect:!1,cDefault:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_documentcount:{cLabel:"Doc. Count",cLabelSize:4,cValue:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cVisible:!1},PI_batchtotal:{cLabel:"Batch Total",cLabelSize:4,cValue:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cVisible:!1},PI_batchstatus:{cValidate:"",cName:"batchstatus",cLabel:"",cLabelSize:4,cOptions:[],cOrder:0,cKey:!1,cVisible:!1,cProtect:!1,cDefault:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_currentdocumentcount:{cLabel:"Curr. Doc. Count",cLabelSize:4,cValue:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cVisible:!1},PI_trxtype:{dataLookUp:{LookUpCd:"GetLookupCMTransTypeBySubPortfolio",ColumnDB:"TrxType",InitialWhere:"SUBPORTFOLIOCD = '"+this.getDataUser().SubPortfolioCd+"' AND MODULECD = 'AR' AND TRXCLASS='M'",ParamWhere:""},cValidate:"required",cName:"trxtype",cLabel:"Trans. Type",cKey:!1,cLabelSize:4,cOrder:1,cTriggered:!1,cDefault:"",cProtect:!1,cVisible:!0,cAsync:!1,cFilter:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex,cStatic:!1,cOption:[],cMasterUrl:"",cDisplayColumn:"TrxType,Descs"},PI_trxtypedescs:{cLabel:"Trans. Type Descs",cLabelSize:4,cValue:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cVisible:!1},PI_currentbatchtotal:{cLabel:"Curr. Batch Total  ",cLabelSize:4,cValue:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cVisible:!1},PI_creditno:{cValidate:"max:20",cName:"creditno",cLabel:"CN Allocation No",cLabelSize:4,cOrder:2,cKey:!1,cType:"text",cVisible:!0,cProtect:!1,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_creditdate:{cValidate:"required",cName:"creditdate",cLabel:"Allocation Date",cLabelSize:4,cOrder:3,cKey:!1,cVisible:!0,cProtect:!1,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_descs:{cValidate:"max:150",cName:"descs",cLabel:"Description",cLabelSize:4,cOrder:4,cKey:!1,cDefault:"",cProtect:!1,cVisible:!0,cResize:!1,cReadOnly:!1,cRows:3,cMaxRows:3,cSize:"md",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_referenceno:{cValidate:"max:20",cName:"referenceno",cLabel:"Reference No",cLabelSize:4,cOrder:5,cKey:!1,cType:"text",cVisible:!0,cProtect:!1,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_debtorcd:{dataLookUp:{LookUpCd:"GetLookupARDebtor",ColumnDB:"DebtorCd",InitialWhere:"SUBPORTFOLIOCD='"+this.getDataUser().SubPortfolioCd+"'",ParamWhere:""},cValidate:"required",cName:"debtorcd",cLabel:"Debtor Code",cKey:!1,cLabelSize:4,cOrder:6,cTriggered:!1,cDefault:"",cProtect:!1,cVisible:!0,cAsync:!1,cFilter:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex,cStatic:!1,cOption:[],cMasterUrl:"AR/AR_Debtor",cDisplayColumn:"DebtorCd,DebtorName"},PI_currencycd:{dataLookUp:{LookUpCd:"GetLookupCMCurrency",ColumnDB:"CurrencyCd",InitialWhere:"",ParamWhere:""},cValidate:"required",cName:"currencycd",cLabel:"Currency",cKey:!1,cLabelSize:4,cOrder:7,cTriggered:!1,cDefault:"",cProtect:!1,cVisible:!0,cAsync:!1,cFilter:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex,cStatic:!1,cOption:[],cMasterUrl:"CM/CM_CurrencyMaster",cDisplayColumn:"CurrencyCd,Descs"},PI_currencyrate:{cValidate:"required",cName:"currencyrate",cLabel:"Currency Rate",cLabelSize:4,cOrder:8,cKey:!1,cType:"decimal",cDecimal:2,cVisible:!0,cProtect:!1,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_creditamt:{cValidate:"",cName:"creditamt",cLabel:"Credit Note Amount",cLabelSize:4,cOrder:9,cKey:!1,cType:"decimal",cDecimal:2,cVisible:!0,cProtect:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_totalnetallocated:{cValidate:"",cName:"totalnetallocated",cLabel:"Net Allocated",cLabelSize:4,cOrder:10,cKey:!1,cType:"decimal",cDecimal:2,cVisible:!0,cProtect:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_vatpaidbycustomer:{cValidate:"",cName:"vatpaidbycustomer",cLabel:"VAT Paid By Debtor",cLabelSize:4,cOrder:11,cKey:!1,cType:"decimal",cDecimal:2,cVisible:!0,cProtect:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_totalvatallocated:{cValidate:"",cName:"totalvatallocated",cLabel:"VAT Allocated",cLabelSize:4,cOrder:12,cKey:!1,cType:"decimal",cDecimal:2,cVisible:!0,cProtect:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_withholdingpaidbycustomer:{cValidate:"",cName:"withholdingpaidbycustomer",cLabel:"Withholding Paid By Debtor",cLabelSize:4,cOrder:12,cKey:!1,cType:"decimal",cDecimal:2,cVisible:!0,cProtect:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_totalwithholdingallocated:{cValidate:"",cName:"totalwithholdingallocated",cLabel:"Withholding Allocated",cLabelSize:4,cOrder:13,cKey:!1,cType:"decimal",cDecimal:2,cVisible:!0,cProtect:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_totalallocationamt:{cValidate:"",cName:"totalallocationamt",cLabel:"Total Allocation Amount",cLabelSize:4,cOrder:14,cKey:!1,cType:"decimal",cDecimal:2,cVisible:!0,cProtect:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_allocatedamt:{cValidate:"",cName:"allocatedamt",cLabel:"Total Allocated",cLabelSize:4,cOrder:15,cKey:!1,cType:"decimal",cDecimal:2,cVisible:!0,cProtect:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_forexgainlossamt:{cValidate:"",cName:"forexgainlossamt",cLabel:"Forex",cLabelSize:4,cOrder:16,cKey:!1,cType:"decimal",cDecimal:2,cVisible:!0,cProtect:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_balanceamt:{cValidate:"",cName:"balanceamt",cLabel:"Balance Amount",cLabelSize:4,cOrder:17,cKey:!1,cType:"decimal",cDecimal:2,cVisible:!0,cProtect:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_remarks:{cValidate:"",cName:"remarks",cLabel:"Remarks",cLabelSize:4,cOrder:18,cKey:!1,cDefault:"",cProtect:!1,cVisible:!0,cResize:!1,cReadOnly:!1,cRows:3,cMaxRows:3,cSize:"md",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PTAnalysis:{cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cPageMasterSeq:this.data.PageMasterSeq,cFormPageNo:this.data.PageOrder},isError:!1}},computed:{inputStatus:function(){return this.$store.getters.getLevel==this.PageLevel&&this.$store.getters.getTab==this.TabIndex?this.$store.getters.getStatus.toUpperCase():"VIEW"},DataRow:function(){return this.$store.getters.GetPage1Data}},methods:{GetCurrencyRate:function(t){var e=this;""!=t&&this.FnGetCurrencyRate(this.getDataUser().SubPortfolioCd,this.M_AR_CNAllocationH.creditdate,t).then(function(t){null!=t&&(e.M_AR_CNAllocationH.currencyrate=t.CurrencyRate)})},GetAllocationTrxTypeData:function(t){var e=this;this.FnIsValidTrxType(this.getDataUser().SubPortfolioCd,t,"AR","M").then(function(a){0!=a.length&&(0==parseInt(a.Count)?(e.alertError("Invalid Allocation Trans. Type"),e.isError=!0):(e.isError=!1,e.FnGetTrxTypeData(e.getDataUser().SubPortfolioCd,e.Module,t).then(function(t){if(null!=t){var a=t[0];e.M_AR_CNAllocationH.descs=a.TrxTypeDescs,e.M_AR_CNAllocationH.trxtypedescs=a.TrxTypeDescs,""!=a.RunningCd?(e.PI_creditno.cProtect=!0,e.M_AR_CNAllocationH.creditno="(auto)",e.RunningCd=a.RunningCd):(e.PI_creditno.cProtect=!1,e.M_AR_CNAllocationH.creditno="",e.RunningCd="")}})))})},OnbatchnoChange:function(t){var e=this;this.$nextTick(function(){e.M_AR_CNAllocationH.batchno=t.id,e.M_AR_CNAllocationH.batchnoLabel=t.label,e.inputStatus}),this.$forceUpdate()},OnstatusChange:function(t){var e=this;this.$nextTick(function(){e.inputStatus}),this.$forceUpdate()},OnbatchstatusChange:function(t){var e=this;this.$nextTick(function(){e.inputStatus}),this.$forceUpdate()},OntrxtypeChange:function(t){var e=this;this.$nextTick(function(){e.M_AR_CNAllocationH.trxtype=t.id,e.M_AR_CNAllocationH.trxtypeLabel=t.label,"VIEW"!=e.inputStatus&&e.GetAllocationTrxTypeData(t.id)}),this.$forceUpdate()},OncreditnoChange:function(t){var e=this;this.$nextTick(function(){e.inputStatus}),this.$forceUpdate()},OndebtorcdChange:function(t){var e=this;this.$nextTick(function(){e.M_AR_CNAllocationH.debtorcd=t.id,e.M_AR_CNAllocationH.debtorcdLabel=t.label,e.inputStatus}),this.$forceUpdate()},OncurrencycdChange:function(t){var e=this;this.$nextTick(function(){e.M_AR_CNAllocationH.currencycd=t.id,e.M_AR_CNAllocationH.currencycdLabel=t.label,"VIEW"!=e.inputStatus&&e.GetCurrencyRate(t.id)}),this.$forceUpdate()},OnremarksChange:function(t){var e=this;this.$nextTick(function(){e.inputStatus}),this.$forceUpdate()},setToolbarButton:function(){this.getToolbar().statusFunction[4].disabled=!1},M_Head_Table:function(){},M_PageSize:function(){},M_TabClick:function(){},M_Pagination:function(){},M_Advance_Filter:function(){},M_Search:function(t){},M_Refresh:function(){},M_Cancel:function(){},doDoubleClick:function(){},rowClicked:function(t,e){},rowLink:function(t){this.$refs.modalTest.show()},paramFromParent:function(){},M_Post:function(){var t=this,e=this.FormToABSList().getRowSelected(),a=[];e.forEach(function(e){a.push({_Message_:"Credit No = "+e.CreditNo,SubPortfolioCd:t.getDataUser().SubPortfolioCd,BatchNo:e.BatchNo,ModuleCd:t.Module,UserInput:t.getDataUser().UserId,Source:e.Source})});var c={OptionSeq:this.getOptionSeq().OptionSeq,LineNo:this.$parent.data.PageOrder,Data:a};this.postJSONMulti(this.getUrlPostMulti(),c).then(function(e){null!=e&&t.$parent.resultPost()})},M_Insert:function(){var t=this;if(1!=this.isError)if(""!=this.RunningCd)this.FnGenerateRunningCode(this.getDataUser().SubPortfolioCd,this.RunningCd,this.getDataUser().UserId,this.M_AR_CNAllocationH.creditdate).then(function(e){if(null!=e){t.M_AR_CNAllocationH.creditno=e.RunningCode;var a={OptionSeq:t.getOptionSeq().OptionSeq,LineNo:t.$parent.data.PageOrder,SubPortfolioCd:t.getDataUser().SubPortfolioCd,BatchNo:""==t.M_AR_CNAllocationH.batchno||null==t.M_AR_CNAllocationH.batchno?0:t.M_AR_CNAllocationH.batchno,Source:"Z",DebtorCd:""==t.M_AR_CNAllocationH.debtorcd||null==t.M_AR_CNAllocationH.debtorcd?"NULL":t.M_AR_CNAllocationH.debtorcd,TrxType:""==t.M_AR_CNAllocationH.trxtype||null==t.M_AR_CNAllocationH.trxtype?"NULL":t.M_AR_CNAllocationH.trxtype,ModuleCd:t.Module,CreditNo:""==t.M_AR_CNAllocationH.creditno||null==t.M_AR_CNAllocationH.creditno?"NULL":t.M_AR_CNAllocationH.creditno,CreditDate:t.M_AR_CNAllocationH.creditdate,Descs:t.M_AR_CNAllocationH.descs,CurrencyCd:""==t.M_AR_CNAllocationH.currencycd||null==t.M_AR_CNAllocationH.currencycd?"NULL":t.M_AR_CNAllocationH.currencycd,CurrencyRate:t.M_AR_CNAllocationH.currencyrate?t.replaceAllString(t.M_AR_CNAllocationH.currencyrate,",","","number"):0,ReferenceNo:t.M_AR_CNAllocationH.referenceno,Status:t.ARFieldHelper.CREDIT_HEADER_STATUS_ERROR,Remarks:t.M_AR_CNAllocationH.remarks,UserInput:t.getDataUser().UserId};t.postJSON(t.getUrlInsert(),a).then(function(e){null!=e&&t.$parent.resultInsert(e.Message)})}});else{var e={OptionSeq:this.getOptionSeq().OptionSeq,LineNo:this.$parent.data.PageOrder,SubPortfolioCd:this.getDataUser().SubPortfolioCd,BatchNo:""==this.M_AR_CNAllocationH.batchno||null==this.M_AR_CNAllocationH.batchno?"NULL":this.M_AR_CNAllocationH.batchno,Source:"Z",DebtorCd:""==this.M_AR_CNAllocationH.debtorcd||null==this.M_AR_CNAllocationH.debtorcd?"NULL":this.M_AR_CNAllocationH.debtorcd,TrxType:""==this.M_AR_CNAllocationH.trxtype||null==this.M_AR_CNAllocationH.trxtype?"NULL":this.M_AR_CNAllocationH.trxtype,ModuleCd:this.Module,CreditNo:""==this.M_AR_CNAllocationH.creditno||null==this.M_AR_CNAllocationH.creditno?"NULL":this.M_AR_CNAllocationH.creditno,CreditDate:this.M_AR_CNAllocationH.creditdate,Descs:this.M_AR_CNAllocationH.descs,CurrencyCd:""==this.M_AR_CNAllocationH.currencycd||null==this.M_AR_CNAllocationH.currencycd?"NULL":this.M_AR_CNAllocationH.currencycd,CurrencyRate:this.M_AR_CNAllocationH.currencyrate?this.replaceAllString(this.M_AR_CNAllocationH.currencyrate,",","","number"):0,ReferenceNo:this.M_AR_CNAllocationH.referenceno,Status:this.ARFieldHelper.CREDIT_HEADER_STATUS_ERROR,Remarks:this.M_AR_CNAllocationH.remarks,UserInput:this.getDataUser().UserId};this.postJSON(this.getUrlInsert(),e).then(function(e){null!=e&&t.$parent.resultInsert(e.Message)})}else this.alertError("Invalid Allocation Trans. Type")},M_Update:function(){var t=this;if(1!=this.isError){var e={OptionSeq:this.getOptionSeq().OptionSeq,LineNo:this.$parent.data.PageOrder,SubportfolioCd:this.getDataUser().SubPortfolioCd,CreditNo:""==this.M_AR_CNAllocationH.creditno||null==this.M_AR_CNAllocationH.creditno?"NULL":this.M_AR_CNAllocationH.creditno,TrxType:""==this.M_AR_CNAllocationH.trxtype||null==this.M_AR_CNAllocationH.trxtype?"NULL":this.M_AR_CNAllocationH.trxtype,DebtorCd:""==this.M_AR_CNAllocationH.debtorcd||null==this.M_AR_CNAllocationH.debtorcd?"NULL":this.M_AR_CNAllocationH.debtorcd,CreditDate:this.M_AR_CNAllocationH.creditdate,Descs:this.M_AR_CNAllocationH.descs,CurrencyCd:""==this.M_AR_CNAllocationH.currencycd||null==this.M_AR_CNAllocationH.currencycd?"NULL":this.M_AR_CNAllocationH.currencycd,CurrencyRate:this.M_AR_CNAllocationH.currencyrate?this.replaceAllString(this.M_AR_CNAllocationH.currencyrate,",","","number"):0,ReferenceNo:this.M_AR_CNAllocationH.referenceno,Remarks:this.M_AR_CNAllocationH.remarks,UserEdit:this.getDataUser().UserId,LastUpdateStamp:this.M_AR_CNAllocationH.lastupdatestamp};this.postJSON(this.getUrlUpdate(),e).then(function(e){null!=e&&t.$parent.resultUpdate(e.Message)})}else this.alertError("Invalid Allocation Trans. Type")},M_ClearForm:function(){this.M_AR_CNAllocationH={batchno:0,referenceno:"",debtorcd:"",trxtype:"",creditno:"",creditdate:this.M_FormatingDate(new Date),descs:"",currencycd:"",currencyrate:"0",remarks:"",userinput:"",useredit:this.getDataUser().UserId,allocatedamt:0,creditamt:0,documentcount:0,batchtotal:"",batchstatus:"",debtorname:"",currentbatchtotal:0,currentdocumentcount:0,totalnetallocated:0,totalvatallocated:0,totalwithholdingallocated:0,forexgainlossamt:0,status:"",lastupdatestamp:0,vatpaidbycustomer:"",withholdingpaidbycustomer:"",totalallocationamt:0,trxtypedescs:"",basecurrencycd:"",subportfoliocd:this.getDataUser().SubPortfolioCd,timeedit:"",rowid:0,balanceamt:0}},M_New:function(){},M_Edit:function(){var t=this,e={OptionFunctionCd:"GetDetailCount_CNAllocation",ModuleCd:this.Module,SubportfolioCd:this.getDataUser().SubPortfolioCd,CreditNo:this.DataRow.CreditNo};this.FnDynamicFunction(e).then(function(e){if(null!=e&&0!=e.length){var a=e[0];parseInt(a.N0)>1?(t.PI_debtorcd.cProtect=!0,t.PI_currencycd.cProtect=!0,t.PI_currencyrate.cProtect=!0,t.PI_creditdate.cProtect=!0):(t.PI_debtorcd.cProtect=!1,t.PI_currencycd.cProtect=!1,t.PI_currencyrate.cProtect=!1,t.PI_creditdate.cProtect=!1)}})},M_Delete:function(t){var e=this,a=this.FormToABSList().getRowSelected(),c=[];a.forEach(function(t){c.push({SubPortfolioCd:e.getDataUser().SubPortfolioCd,CreditNo:t.CreditNo,UserEdit:e.getDataUser().UserId,LastUpdateStamp:t.LastUpdateStamp,_Message_:""})});var o={OptionSeq:this.getOptionSeq().OptionSeq,LineNo:this.$parent.data.PageOrder,Data:c};this.postJSONMulti(this.getUrlNewDeleteMulti(),o).then(function(t){null!=t&&e.$parent.resultDelete("Deleting Data Successfully")})},getDataBy:function(t){var e=this,a={OptionSeq:this.getOptionSeq().OptionSeq,LineNo:this.$parent.data.PageOrder,SubportfolioCd:this.getDataUser().SubPortfolioCd,creditno:t.CreditNo};this.postEncode(this.getUrlById(),a).then(function(a){if(null!=a){var c=a.Data[0];e.M_AR_CNAllocationH={batchno:c.batchno,referenceno:c.referenceno,debtorcd:c.debtorcd,trxtype:c.trxtype,creditno:c.creditno,creditdate:c.creditdate,descs:c.descs,currencycd:c.currencycd,currencyrate:e.isCurrency(c.currencyrate,e.decimal),remarks:c.remarks,userinput:c.userinput,useredit:c.useredit,allocatedamt:e.isCurrency(c.allocatedamt,e.decimal),creditamt:e.isCurrency(c.creditamt,e.decimal),documentcount:c.documentcount,batchtotal:c.batchtotal,batchstatus:c.batchstatus,debtorname:c.debtorname,currentbatchtotal:c.currentbatchtotal,currentdocumentcount:c.currentdocumentcount,totalnetallocated:e.isCurrency(c.totalnetallocated,e.decimal),totalvatallocated:e.isCurrency(c.totalvatallocated,e.decimal),totalwithholdingallocated:e.isCurrency(c.totalwithholdingallocated,e.decimal),forexgainlossamt:e.isCurrency(c.forexgainlossamt,e.decimal),status:c.status,lastupdatestamp:t.LastUpdateStamp,vatpaidbycustomer:e.isCurrency(c.vatpaidbycustomer,e.decimal),withholdingpaidbycustomer:e.isCurrency(c.withholdingpaidbycustomer,e.decimal),totalallocationamt:e.isCurrency(c.totalallocationamt,e.decimal),trxtypedescs:c.trxtypedescs,basecurrencycd:c.basecurrencycd,subportfoliocd:c.subportfoliocd,timeedit:c.timeedit,rowid:c.rowid},console.log(c.basecurrencycd+" == "+c.currencycd),console.log(e.M_AR_CNAllocationH.totalallocationamt),console.log(e.M_AR_CNAllocationH.forexgainlossamt),console.log(e.M_AR_CNAllocationH.allocatedamt),c.basecurrencycd==c.currencycd?e.M_AR_CNAllocationH.balanceamt=e.isCurrency(parseInt(e.M_AR_CNAllocationH.totalallocationamt)-parseInt(e.M_AR_CNAllocationH.forexgainlossamt)-parseInt(e.M_AR_CNAllocationH.allocatedamt),e.decimal):e.M_AR_CNAllocationH.balanceamt=e.isCurrency(parseInt(e.M_AR_CNAllocationH.totalallocationamt)-parseInt(e.M_AR_CNAllocationH.allocatedamt),e.decimal),e.M_AR_CNAllocationH.batchnoLabel=null!=e.M_AR_CNAllocationH.batchno&&""!=e.M_AR_CNAllocationH.batchno?c.batchno+e.separator:"",e.M_AR_CNAllocationH.trxtypeLabel=null!=e.M_AR_CNAllocationH.trxtype&&""!=e.M_AR_CNAllocationH.trxtype?c.trxtype+e.separator+c.trxtypedescs:"",e.M_AR_CNAllocationH.debtorcdLabel=null!=e.M_AR_CNAllocationH.debtorcd&&""!=e.M_AR_CNAllocationH.debtorcd?c.debtorcd+e.separator+c.debtorname:"",e.M_AR_CNAllocationH.currencycdLabel=null!=e.M_AR_CNAllocationH.currencycd&&""!=e.M_AR_CNAllocationH.currencycd?c.currencycd:"",e.IEBy.Input=c.userinput,e.IEBy.Edit=c.useredit}})}},beforeCreate:function(){},created:function(){this.$store.commit("setFormType","ListProcess"),this.getToolbar().ProcessPS()},beforeMount:function(){},mounted:function(){this.hideSideBarMenu(),this.FormToABSList().doGetList("","eb_getList")},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}}),r=l,i=a("2877"),n=Object(i["a"])(r,c,o,!1,null,null,null);n.options.__file="AR_CNAllocationH.vue";e["default"]=n.exports}}]);
//# sourceMappingURL=chunk-2d0a499c.de050d93.js.map