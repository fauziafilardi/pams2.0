(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21aeb8"],{be21:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ABSListVuex",{attrs:{prop:e.propList,title:e.data.QueryName},on:{rowClicked:e.$parent.rowClicked,rowDblClicked:e.$parent.doDoubleClick,rowLinkClick:e.$parent.rowLink,pageSize:e.$parent.M_PageSize,pagination:e.$parent.M_Pagination,filter:e.$parent.M_Advance_Filter,headTable:e.$parent.M_Head_Table,refreshColumn:e.$parent.refreshColumn,checkboxChecked:e.$parent.checkboxChecked}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.$parent.showForm,expression:"$parent.showForm"}],staticClass:"el",style:"margin-top:10px;",attrs:{mousetip:"","mousetip-msg":"I'm a tooltip"}},[a("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse1",modifiers:{collapse1:!0}}],staticClass:"div-collapse"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.IEBy.Input&&e.IEBy.Edit,expression:"IEBy.Input && IEBy.Edit"}],staticClass:"master-span"},[e._v("\n                    Input By : "+e._s(e.IEBy.Input)+" | Edit By : "+e._s(e.IEBy.Edit)+" "),a("font-awesome-icon",{staticClass:"icon-style-1__master",attrs:{icon:"sort-down"}})],1)]),a("b-collapse",{attrs:{id:"collapse1",visible:!0}},[a("b-row",{staticStyle:{"padding-left":"10px","padding-bottom":"10px"}},[a("b-col",{staticClass:"bColMasterForm",attrs:{md:"12",id:"col-left"}},[a("b-form",{attrs:{"data-vv-scope":"FormScope_"+e.PageLevel+"_"+e.TabIndex,"data-vv-value-path":"FormScope_"+e.PageLevel+"_"+e.TabIndex}},[a("b-row",{staticStyle:{"padding-left":"10px"}},[a("b-col",{attrs:{md:"12",id:"col-left"}},[a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_creditno",attrs:{prop:e.PI_creditno},model:{value:e.M_AP_PaymentD.creditno,callback:function(t){e.$set(e.M_AP_PaymentD,"creditno",t)},expression:"M_AP_PaymentD.creditno"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_referenceno",attrs:{prop:e.PI_referenceno},model:{value:e.M_AP_PaymentD.referenceno,callback:function(t){e.$set(e.M_AP_PaymentD,"referenceno",t)},expression:"M_AP_PaymentD.referenceno"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSInputSelectList",{ref:"ref_trxtype",attrs:{prop:e.PI_trxtype,value:e.M_AP_PaymentD.trxtype,label:e.M_AP_PaymentD.trxtypeLabel},on:{change:e.OntrxtypeChange}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_headerdescs",attrs:{prop:e.PI_headerdescs},model:{value:e.M_AP_PaymentD.headerdescs,callback:function(t){e.$set(e.M_AP_PaymentD,"headerdescs",t)},expression:"M_AP_PaymentD.headerdescs"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_descs",attrs:{prop:e.PI_descs},model:{value:e.M_AP_PaymentD.descs,callback:function(t){e.$set(e.M_AP_PaymentD,"descs",t)},expression:"M_AP_PaymentD.descs"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputRadioButtonVuex",{ref:"ref_vatpaidby",attrs:{prop:e.PI_vatpaidby},on:{input:e.OnvatpaidbyChange},model:{value:e.M_AP_PaymentD.vatpaidby,callback:function(t){e.$set(e.M_AP_PaymentD,"vatpaidby",t)},expression:"M_AP_PaymentD.vatpaidby"}})],1),a("b-col",{attrs:{md:"6"}},[a("ABSinputRadioButtonVuex",{ref:"ref_withholdingpaidby",attrs:{prop:e.PI_withholdingpaidby},on:{input:e.OnwithholdingpaidbyChange},model:{value:e.M_AP_PaymentD.withholdingpaidby,callback:function(t){e.$set(e.M_AP_PaymentD,"withholdingpaidby",t)},expression:"M_AP_PaymentD.withholdingpaidby"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_outstandingamt",attrs:{prop:e.PI_outstandingamt},model:{value:e.M_AP_PaymentD.outstandingamt,callback:function(t){e.$set(e.M_AP_PaymentD,"outstandingamt",t)},expression:"M_AP_PaymentD.outstandingamt"}})],1),a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_totalallocatedamt",attrs:{prop:e.PI_totalallocatedamt},on:{input:e.OntotalallocateamtChange},model:{value:e.M_AP_PaymentD.totalallocatedamt,callback:function(t){e.$set(e.M_AP_PaymentD,"totalallocatedamt",t)},expression:"M_AP_PaymentD.totalallocatedamt"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSInputSelectList",{ref:"ref_currencycd",attrs:{prop:e.PI_currencycd,value:e.M_AP_PaymentD.currencycd,label:e.M_AP_PaymentD.currencycdLabel},on:{change:e.OncurrencycdChange}})],1),a("b-col",{attrs:{md:"6"}},[a("ABSinputRadioButtonVuex",{ref:"ref_operator",attrs:{prop:e.PI_operator},on:{input:e.OnoperatorChange},model:{value:e.M_AP_PaymentD.operator,callback:function(t){e.$set(e.M_AP_PaymentD,"operator",t)},expression:"M_AP_PaymentD.operator"}})],1)],1),a("div",{staticClass:"div-collapse"},[a("b-row",[a("b-col",{attrs:{md:"2"}}),a("b-col",{attrs:{md:"2"}},[a("ABSLabelOnly",{attrs:{prop:{cLabel:"Outstanding Amount",cLabelSize:4,cValue:"",cPageLevel:e.PageLevel,cTabIndex:e.TabIndex,cVisible:!0,cClass:"lbl-col-align"}}})],1),a("b-col",{attrs:{md:"2"}},[a("ABSLabelOnly",{attrs:{prop:{cLabel:"Currency Rate",cLabelSize:4,cValue:"",cPageLevel:e.PageLevel,cTabIndex:e.TabIndex,cVisible:!0,cClass:"lbl-col-align"}}})],1),a("b-col",{attrs:{md:"2"}},[a("ABSLabelOnly",{attrs:{prop:{cLabel:"Allocation Amount",cLabelSize:4,cValue:"",cPageLevel:e.PageLevel,cTabIndex:e.TabIndex,cVisible:!0,cClass:"lbl-col-align"}}})],1),a("b-col",{attrs:{md:"2"}},[a("ABSLabelOnly",{attrs:{prop:{cLabel:"Allocation Currency Rate",cLabelSize:4,cValue:"",cPageLevel:e.PageLevel,cTabIndex:e.TabIndex,cVisible:!0,cClass:"lbl-col-align"}}})],1)],1)],1),e._l(e.CreditCharge,function(t,r){return a("b-row",{key:r},[a("b-col",{attrs:{md:"2"}},[a("ABSLabelOnly",{attrs:{prop:t.props.label}})],1),a("b-col",{directives:[{name:"show",rawName:"v-show",value:"VIEW"!==e.inputStatus,expression:"inputStatus!=='VIEW'"}],attrs:{md:"2"}},[a("b-form-input",{ref:"ref_outstanding_"+(r+1),refInFor:!0,staticClass:"text-field-form form-control input",staticStyle:{"text-align":"right"},attrs:{name:t.props.outstanding.cName,id:t.props.outstanding.cName,rowLine:"0",type:"text",disabled:"disabled"},on:{input:function(a){e.handleInput(r,t.data.outstanding,"outstanding")},blur:function(a){e.onBlur("outstanding",t.data.outstanding)}},nativeOn:{keypress:function(a){e.formatNumber(a,r,t.data.outstanding,"outstanding")},blur:function(a){e.isCurrency2(r,t.data.outstanding,"outstanding")}},model:{value:t.data.outstanding,callback:function(a){e.$set(t.data,"outstanding",a)},expression:"data.data.outstanding"}})],1),"VIEW"==e.inputStatus&&"decimal"==t.props.outstanding.cType?a("b-col",{staticStyle:{"text-align":"right !important"},attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.outstanding))])]):"VIEW"==e.inputStatus&&"numeric"==t.props.outstanding.cType?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.outstanding))])]):"VIEW"==e.inputStatus?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.outstanding))])]):e._e(),a("b-col",{directives:[{name:"show",rawName:"v-show",value:"VIEW"!==e.inputStatus,expression:"inputStatus!=='VIEW'"}],attrs:{md:"2"}},[a("b-form-input",{ref:"ref_currencyrate_"+(r+1),refInFor:!0,staticClass:"text-field-form form-control input",staticStyle:{"text-align":"right"},attrs:{name:t.props.currencyrate.cName,id:t.props.currencyrate.cName,rowLine:"0",type:"text",disabled:"disabled"},on:{input:function(a){e.handleInput(r,t.data.currencyrate,"currencyrate")},blur:function(a){e.onBlur("currencyrate",r,t.data.currencyrate)}},nativeOn:{keypress:function(a){e.formatNumber(a,r,t.data.currencyrate,"currencyrate")},blur:function(a){e.isCurrency2(r,t.data.currencyrate,"currencyrate")}},model:{value:t.data.currencyrate,callback:function(a){e.$set(t.data,"currencyrate",a)},expression:"data.data.currencyrate"}})],1),"VIEW"==e.inputStatus&&"decimal"==t.props.currencyrate.cType?a("b-col",{staticStyle:{"text-align":"right !important"},attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.currencyrate))])]):"VIEW"==e.inputStatus&&"numeric"==t.props.currencyrate.cType?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.currencyrate))])]):"VIEW"==e.inputStatus?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.currencyrate))])]):e._e(),a("b-col",{directives:[{name:"show",rawName:"v-show",value:"VIEW"!==e.inputStatus,expression:"inputStatus!=='VIEW'"}],attrs:{md:"2"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"max_value:"+e.replaceAllString(t.data.outstanding,",","","number"),expression:"'max_value:' + replaceAllString(data.data.outstanding, ',', '', 'number')"}],ref:"ref_allocamt_"+(r+1),refInFor:!0,staticClass:"text-field-form form-control input",staticStyle:{"text-align":"right"},attrs:{name:t.props.allocamt.cName,id:t.props.allocamt.cName,rowLine:"0",type:"text"},on:{input:function(a){e.handleInput(r,t.data.allocamt,"allocamt")},blur:function(a){e.onBlur("allocamt",r,t.data.allocamt)}},nativeOn:{keypress:function(a){e.formatNumber(a,r,t.data.allocamt,"allocamt")},blur:function(a){e.isCurrency2(r,t.data.allocamt,"allocamt")}},model:{value:t.data.allocamt,callback:function(a){e.$set(t.data,"allocamt",a)},expression:"data.data.allocamt"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("FormScope_"+e.PageLevel+"_"+e.TabIndex+"."+t.props.allocamt.cName),expression:"errors.has('FormScope_' + PageLevel + '_' + TabIndex +'.' + data.props.allocamt.cName)"}],staticClass:"error-span"},[e._v(e._s(e.errors.first("FormScope_"+e.PageLevel+"_"+e.TabIndex+"."+t.props.allocamt.cName))+"\n                                        ")])],1),"VIEW"==e.inputStatus&&"decimal"==t.props.allocamt.cType?a("b-col",{staticStyle:{"text-align":"right !important"},attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.allocamt))])]):"VIEW"==e.inputStatus&&"numeric"==t.props.allocamt.cType?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.allocamt))])]):"VIEW"==e.inputStatus?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.allocamt))])]):e._e(),a("b-col",{directives:[{name:"show",rawName:"v-show",value:"VIEW"!==e.inputStatus,expression:"inputStatus!=='VIEW'"}],attrs:{md:"2"}},[a("b-form-input",{ref:"ref_alloccurrencyrate_"+(r+1),refInFor:!0,staticClass:"text-field-form form-control input",staticStyle:{"text-align":"right"},attrs:{name:t.props.alloccurrencyrate.cName,id:t.props.alloccurrencyrate.cName,rowLine:"0",type:"text",disabled:"disabled"},on:{input:function(a){e.handleInput(r,t.data.alloccurrencyrate,"alloccurrencyrate")},blur:function(a){e.onBlur("alloccurrencyrate",r,t.data.alloccurrencyrate)}},nativeOn:{keypress:function(a){e.formatNumber(a,r,t.data.alloccurrencyrate,"alloccurrencyrate")},blur:function(a){e.isCurrency2(r,t.data.alloccurrencyrate,"alloccurrencyrate")}},model:{value:t.data.alloccurrencyrate,callback:function(a){e.$set(t.data,"alloccurrencyrate",a)},expression:"data.data.alloccurrencyrate"}})],1),"VIEW"==e.inputStatus&&"decimal"==t.props.alloccurrencyrate.cType?a("b-col",{staticStyle:{"text-align":"right !important"},attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.alloccurrencyrate))])]):"VIEW"==e.inputStatus&&"numeric"==t.props.alloccurrencyrate.cType?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.alloccurrencyrate))])]):"VIEW"==e.inputStatus?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.alloccurrencyrate))])]):e._e()],1)}),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSTextAreaVuex",{ref:"ref_remarks",attrs:{prop:e.PI_remarks},on:{input:e.OnremarksChange},model:{value:e.M_AP_PaymentD.remarks,callback:function(t){e.$set(e.M_AP_PaymentD,"remarks",t)},expression:"M_AP_PaymentD.remarks"}})],1)],1)],2)],1)],1)],1)],1)],1)],1)],1)},i=[],n=(a("a481"),a("28a5"),a("6b54"),{props:{PageLevel:"",TabIndex:"",data:""},data:function(){return{ValKey:null,FormType:"List",Module:"AP",propList:{initialWhere:"",LineNo:this.$parent.data.PageOrder,PageLevel:this.PageLevel,TabIndex:this.TabIndex,OrderBy:"",SourceField:"",ParamView:""},IEBy:{Input:"",Edit:""},BaseCurrencyCd:null,CreditCharge:[],DataDetail:[],M_AP_PaymentD:{creditno:"",referenceno:"",trxtype:"",headerdescs:"",descs:"",vatpaidby:"",withholdingpaidby:"",outstandingamt:"",totalallocatedamt:"0",currencycd:"",operator:"",detailoutstandingamt:"",creditcurrencyrate:"",allocationamt:"0",debitcurrencyrate:"0",remarks:""},PI_creditno:{cValidate:"",cName:"creditno",cLabel:"Doc. No",cLabelSize:4,cOrder:0,cKey:!1,cType:"text",cVisible:!0,cProtect:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_referenceno:{cValidate:"",cName:"referenceno",cLabel:"Reference No",cLabelSize:4,cOrder:0,cKey:!1,cType:"text",cVisible:!0,cProtect:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_trxtype:{dataLookUp:{LookUpCd:"",ColumnDB:"",InitialWhere:"",ParamWhere:"",SourceField:"",DisplayLookup:""},cValidate:"",cName:"trxtype",cLabel:"Trans. Type",cKey:!1,cLabelSize:4,cOrder:0,cTriggered:!1,cDefault:"",cProtect:!0,cVisible:!0,cAsync:!1,cFilter:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex,cStatic:!1,cOption:[],cMasterUrl:"",cDisplayColumn:""},PI_headerdescs:{cValidate:"",cName:"headerdescs",cLabel:"Description",cLabelSize:4,cOrder:0,cKey:!1,cType:"text",cVisible:!0,cProtect:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_descs:{cValidate:"",cName:"descs",cLabel:"Detail Description",cLabelSize:4,cOrder:0,cKey:!1,cType:"text",cVisible:!0,cProtect:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_vatpaidby:{cValidate:"",cName:"vatpaidby",cId:"rdbvatpaidby",cRadioOptions:[{text:"Creditor",value:"C"},{text:"Management",value:"M"}],cRadioDefaultOption:"",cLabel:"VAT Paid By",cLabelSize:4,cDefault:"",cOrder:0,cProtect:!0,cVisible:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_withholdingpaidby:{cValidate:"",cName:"withholdingpaidby",cId:"rdbwithholdingpaidby",cRadioOptions:[{text:"Creditor",value:"C"},{text:"Management",value:"M"}],cRadioDefaultOption:"",cLabel:"With Holding Paid By",cLabelSize:4,cDefault:"",cOrder:0,cProtect:!0,cVisible:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_outstandingamt:{cValidate:"",cName:"outstandingamt",cLabel:"Outstanding Amount",cLabelSize:4,cOrder:0,cKey:!1,cType:"decimal",cDecimal:2,cVisible:!0,cProtect:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_totalallocatedamt:{cValidate:"cmax_value:a",cName:"totalallocatedamt",cLabel:"Allocation Amount",cLabelSize:4,cOrder:0,cKey:!1,cType:"decimal",cDecimal:2,cVisible:!0,cProtect:!1,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_currencycd:{dataLookUp:{LookUpCd:"",ColumnDB:"",InitialWhere:"",ParamWhere:"",SourceField:"",DisplayLookup:""},cValidate:"",cName:"currencycd",cLabel:"Currency",cKey:!0,cLabelSize:4,cOrder:0,cTriggered:!1,cDefault:"",cProtect:!0,cVisible:!0,cAsync:!1,cFilter:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex,cStatic:!1,cOption:[],cMasterUrl:"",cDisplayColumn:""},PI_operator:{cValidate:"",cName:"operator",cId:"rdboperator",cRadioOptions:[{text:"Multiply (*)",value:"*"},{text:"Divide (/)",value:"/"}],cRadioDefaultOption:"",cLabel:"Operator",cLabelSize:4,cDefault:"",cOrder:0,cProtect:!0,cVisible:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_remarks:{cValidate:"",cName:"remarks",cLabel:"Remarks",cLabelSize:4,cOrder:0,cKey:!1,cDefault:"",cProtect:!1,cVisible:!0,cResize:!1,cReadOnly:!1,cRows:3,cMaxRows:3,cSize:"md",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex}}},computed:{inputStatus:function(){return this.$store.getters.getLevel==this.PageLevel&&this.$store.getters.getTab==this.TabIndex?this.$store.getters.getStatus.toUpperCase():"VIEW"},DataRow:function(){return this.$store.getters.GetPage2Data},DataRowPage1:function(){return this.$store.getters.GetPage1Data},GetDataBy1:function(){return this.$store.getters.GetPage1GetDataBy}},methods:{OntrxtypeChange:function(e){var t=this;this.$nextTick(function(){t.M_AP_PaymentD.trxtype=e.id,t.M_AP_PaymentD.trxtypeLabel=e.label,t.inputStatus}),this.$forceUpdate()},OnvatpaidbyChange:function(e){var t=this;this.$nextTick(function(){t.inputStatus}),this.$forceUpdate()},OnwithholdingpaidbyChange:function(e){var t=this;this.$nextTick(function(){t.inputStatus}),this.$forceUpdate()},OntotalallocateamtChange:function(e){if("VIEW"!=this.inputStatus){var t=parseFloat(this.replaceAllString(this.M_AP_PaymentD.outstandingamt,",","","number"));if(e<=0||""==e)for(var a=0;a<this.CreditCharge.length;a++)this.CreditCharge[a].data.allocamt=this.isCurrency(0,this.decimal);else for(var r=0;r<this.CreditCharge.length;r++){var i=parseFloat(this.replaceAllString(this.CreditCharge[r].data.outstanding,",","","number")),n=parseFloat(this.replaceAllString(e,",","","number"));if(n<t){var c=i/parseFloat(this.TotalCharge)*n;this.CreditCharge[r].data.allocamt=this.isCurrency(c,this.decimal)}else this.CreditCharge[r].data.allocamt=this.isCurrency(i,this.decimal)}}},OncurrencycdChange:function(e){var t=this;this.$nextTick(function(){t.M_AP_PaymentD.currencycd=e.id,t.M_AP_PaymentD.currencycdLabel=e.label,t.inputStatus}),this.$forceUpdate()},OnoperatorChange:function(e){var t=this;this.$nextTick(function(){t.inputStatus}),this.$forceUpdate()},OnremarksChange:function(e){var t=this;this.$nextTick(function(){t.inputStatus}),this.$forceUpdate()},setToolbarButton:function(){},M_Head_Table:function(){},M_PageSize:function(){},M_TabClick:function(){},M_Pagination:function(){},M_Advance_Filter:function(){},M_Search:function(e){},M_Refresh:function(){},M_Cancel:function(){},doDoubleClick:function(){},rowClicked:function(e,t){},rowLink:function(e){},paramFromParent:function(){this.$parent.showForm=!1,this.$store.commit("setNewStatus",!1);var e=this.$store.getters.GetPage1Data;this.M_AP_PaymentD.currencycd=e.CurrencyCd,this.propList.ParamView="'"+this.getDataUser().SubPortfolioCd+"', '"+(e.DebitNo?e.DebitNo:"")+"', '"+(e.CreditorCd?e.CreditorCd:"")+"'",console.log(e),e.DebitNo&&""!=e.DebitNo?e.CurrencyCd.toUpperCase()==this.BaseCurrencyCd.toUpperCase()?this.FormToABSList().doGetList("","eb_getList"):(this.propList.initialWhere=" (CurrencyCd = '"+e.CurrencyCd+"' OR CurrencyCd = '"+this.BaseCurrencyCd+"') ",this.FormToABSList().doGetList("","eb_getList")):(this.propList.initialWhere=" 1 = 0 ",this.FormToABSList().doGetList("","eb_getList"))},M_CheckboxChecked:function(e,t,a){},M_Insert:function(){},M_Update:function(){var e=this,t={OptionFunctionCd:"GetAPDebitHStatus",ModuleCd:this.Module,SubPortfolioCd:this.getDataUser().SubPortfolioCd,DebitNo:this.DataRowPage1.DebitNo};this.FnDynamicFunction(t).then(function(t){"P"!=t[0].Status?e.DataRow.DebitSequenceNo&&""!==e.DataRow.DebitSequenceNo&&"0"!==e.DataRow.DebitSequenceNo.toString()?e.Update():e.Insert():e.alertError("Cannot Edit Data, status already Posted")})},Update:function(){for(var e=this,t=this.DataRow.DebitSequenceNo,a=this.DataRowPage1.DebitNo,r=this.DataRowPage1.CurrencyCd,i=[],n={},c={},o=0;o<this.DataDetail.length;o++)this.DataDetail[o].DebitDetailSequenceNo?i.push({_Method_:"UPDATE",_LineNo_:1,DebitSequenceNo:t,DebitDetailSequenceNo:this.DataDetail[o].DebitDetailSequenceNo,CreditDetailSequenceNo:this.DataDetail[o].CreditDetailSequenceNo,CurrencyOperator:this.M_AP_PaymentD.operator,CreditCurrencyCd:this.M_AP_PaymentD.currencycd,DebitCurrencyCd:r,CreditCurrencyRate:this.replaceAllString(this.isCurrency(this.DataDetail[o].CurrencyRate,this.decimal),",","","number"),DebitCurrencyRate:this.replaceAllString(this.isCurrency(this.DataDetail[o].AllocationCurrencyRate,this.decimal),",","","number"),AllocationAmt:this.replaceAllString(this.isCurrency(this.CreditCharge[o].data.allocamt,this.decimal),",","","number"),UserEdit:this.getDataUser().UserId}):parseFloat(this.replaceAllString(this.isCurrency(this.CreditCharge[o].data.allocamt,this.decimal),",","","number"))>0&&i.push({_Method_:"SAVE",_LineNo_:2,DebitSequenceNo:t,CreditDetailSequenceNo:this.DataDetail[o].CreditDetailSequenceNo,CurrencyOperator:this.M_AP_PaymentD.operator,CreditCurrencyCd:this.M_AP_PaymentD.currencycd,DebitCurrencyCd:r,CreditCurrencyRate:this.replaceAllString(this.isCurrency(this.DataDetail[o].CurrencyRate,this.decimal),",","","number"),DebitCurrencyRate:this.replaceAllString(this.isCurrency(this.DataDetail[o].AllocationCurrencyRate,this.decimal),",","","number"),AllocationAmt:this.replaceAllString(this.isCurrency(this.CreditCharge[o].data.allocamt,this.decimal),",","","number"),UserInput:this.getDataUser().UserId});n={_Method_:"UPDATE",_LineNo_:2,SubPortfolioCd:this.getDataUser().SubPortfolioCd,DebitSequenceNo:t,DebitNo:a,CurrencyOperator:this.M_AP_PaymentD.operator,Remarks:this.M_AP_PaymentD.remarks,UserEdit:this.getDataUser().UserId},c={_Method_:"UPDATE",_LineNo_:3,SubPortfolioCd:this.getDataUser().SubPortfolioCd,DebitNo:a,EntryType:"P",UserEdit:this.getDataUser().UserId};var l={OptionSeq:this.getOptionSeq().OptionSeq,LineNo:this.$parent.data.PageOrder,Data:[{A_Looping:i,B_Update:n,C_Update:c}]};this.postJSONMulti(this.getUrlProsesDataPostMulti(),l).then(function(t){null!=t&&(e.$parent.resultUpdate("Data Has Been Saved Successfully"),e.refreshListParent(!0))})},Insert:function(){var e=this,t=this.DataRow.CreditSequenceNo,a=this.DataRowPage1.DebitNo,r=this.DataRowPage1.CurrencyCd,i="DebitSequenceNo",n={},c=[],o={},l={};n={_Method_:"SAVE",_LineNo_:1,SubPortfolioCd:this.getDataUser().SubPortfolioCd,DebitNo:a,CreditSequenceNo:t,CurrencyOperator:this.M_AP_PaymentD.operator,Remarks:this.M_AP_PaymentD.remarks,UserInput:this.getDataUser().UserId,DebitSequenceNo_Output:""};for(var s=0;s<this.DataDetail.length;s++)parseFloat(this.replaceAllString(this.isCurrency(this.CreditCharge[s].data.allocamt,this.decimal),",","","number"))>0&&c.push({_Method_:"SAVE",_LineNo_:2,DebitSequenceNo:i,CreditDetailSequenceNo:this.DataDetail[s].CreditDetailSequenceNo,CurrencyOperator:this.M_AP_PaymentD.operator,CreditCurrencyCd:this.M_AP_PaymentD.currencycd,DebitCurrencyCd:r,CreditCurrencyRate:this.replaceAllString(this.isCurrency(this.DataDetail[s].CurrencyRate,this.decimal),",","","number"),DebitCurrencyRate:this.replaceAllString(this.isCurrency(this.DataDetail[s].AllocationCurrencyRate,this.decimal),",","","number"),AllocationAmt:this.replaceAllString(this.isCurrency(this.CreditCharge[s].data.allocamt,this.decimal),",","","number"),UserInput:this.getDataUser().UserId});o={_Method_:"UPDATE",_LineNo_:2,SubPortfolioCd:this.getDataUser().SubPortfolioCd,DebitSequenceNo:i,DebitNo:a,CurrencyOperator:this.M_AP_PaymentD.operator,Remarks:this.M_AP_PaymentD.remarks,UserEdit:this.getDataUser().UserId},l={_Method_:"UPDATE",_LineNo_:3,SubPortfolioCd:this.getDataUser().SubPortfolioCd,DebitNo:a,EntryType:"P",UserEdit:this.getDataUser().UserId};var d={OptionSeq:this.getOptionSeq().OptionSeq,LineNo:this.$parent.data.PageOrder,Data:[{A_Insert:n,B_Looping:c,C_Update:o,D_Update:l}]};this.postJSONMulti(this.getUrlProsesDataPostMulti(),d).then(function(t){null!=t&&(e.$parent.resultUpdate("Data Has Been Saved Successfully"),e.refreshListParent(!0))})},M_ClearForm:function(){this.M_AP_PaymentD={creditno:"",referenceno:"",trxtype:"",headerdescs:"",descs:"",vatpaidby:"",withholdingpaidby:"",outstandingamt:"",totalallocatedamt:"0",currencycd:"",operator:"",detailoutstandingamt:"",creditcurrencyrate:"",allocationamt:"0",debitcurrencyrate:"0",remarks:""}},M_New:function(){var e=this.$store.getters.GetPage1Data;this.M_AP_PaymentD.currencycd=e.CurrencyCd},M_Edit:function(){},M_Delete:function(e){},getCreditCharge:function(e){var t=this,a={OptionFunctionCd:"SelectCreditChargesDebitAllocation",ModuleCd:this.Module,CreditSequenceNo:e.CreditSequenceNo,DebitNo:this.DataRowPage1.DebitNo,SubPortfolioCd:this.getDataUser().SubPortfolioCd};this.FnDynamicFunction(a).then(function(e){if(null!=e){t.DataDetail=e,t.CreditCharge=[];for(var a=0,r=0;r<e.length;r++){a+=parseFloat(e[r].ChargeAmt);var i=parseFloat(e[r].ChargeAmt)-parseFloat(e[r].AllocatedByOtherDocumentAmt);t.CreditCharge.push({data:{outstanding:i&&""!=i&&parseFloat(i)>0?t.isCurrency(i,t.decimal):"",currencyrate:e[r].CurrencyRate&&""!=e[r].CurrencyRate&&parseFloat(e[r].CurrencyRate)>0?t.isCurrency(e[r].CurrencyRate,t.decimal):"",allocamt:e[r].AllocationAmt&&""!=e[r].AllocationAmt&&parseFloat(e[r].AllocationAmt)>0?t.isCurrency(e[r].AllocationAmt,t.decimal):"",alloccurrencyrate:e[r].AllocationCurrencyRate&&""!=e[r].AllocationCurrencyRate&&parseFloat(e[r].AllocationCurrencyRate)>0?t.isCurrency(e[r].AllocationCurrencyRate,t.decimal):""},props:{label:{cLabel:e[r].TaxTypeDescs,cLabelSize:4,cValue:"",cPageLevel:t.PageLevel,cTabIndex:t.TabIndex,cVisible:!0,cClass:"lbl-col-align"},outstanding:{cValidate:"",cName:"outstanding_"+(r+1),cLabel:"",cLabelSize:4,cOrder:0,cKey:!1,cType:"decimal",cDecimal:2,cVisible:!0,cProtect:!0,cPageLevel:t.PageLevel,cTabIndex:t.TabIndex,cParentForm:"FormScope_"+t.PageLevel+"_"+t.TabIndex,cRowDisable:[]},currencyrate:{cValidate:"",cName:"currencyrate_"+(r+1),cLabel:"",cLabelSize:4,cOrder:0,cKey:!1,cType:"decimal",cDecimal:2,cVisible:!0,cProtect:!0,cPageLevel:t.PageLevel,cTabIndex:t.TabIndex,cParentForm:"FormScope_"+t.PageLevel+"_"+t.TabIndex,cRowDisable:[]},allocamt:{cValidate:"",cName:"allocamt_"+(r+1),cLabel:"",cLabelSize:4,cOrder:0,cKey:!1,cType:"decimal",cDecimal:2,cVisible:!0,cProtect:!1,cPageLevel:t.PageLevel,cTabIndex:t.TabIndex,cParentForm:"FormScope_"+t.PageLevel+"_"+t.TabIndex,cRowDisable:[]},alloccurrencyrate:{cValidate:"",cName:"alloccurrencyrate_"+(r+1),cLabel:"",cLabelSize:4,cOrder:0,cKey:!1,cType:"decimal",cDecimal:2,cVisible:!0,cProtect:!0,cPageLevel:t.PageLevel,cTabIndex:t.TabIndex,cParentForm:"FormScope_"+t.PageLevel+"_"+t.TabIndex,cRowDisable:[]}}})}t.TotalCharge=a}})},getDataBy:function(e){var t=this;this.getCreditCharge(e);var a={OptionSeq:this.getOptionSeq().OptionSeq,LineNo:this.$parent.data.PageOrder,CreditorCd:this.DataRowPage1.CreditorCd,CurrencyCd:e.CurrencyCd,DebitNo:this.DataRowPage1.DebitNo,DebitSequenceNo:e.DebitSequenceNo,CreditSequenceNo:e.CreditSequenceNo,SubportfolioCd:this.getDataUser().SubPortfolioCd};this.postEncode(this.getUrlById(),a).then(function(e){if(null!=e){var a=e.Data[0];t.M_AP_PaymentD={creditno:a.creditno,referenceno:a.referenceno,trxtype:a.trxtype,headerdescs:a.headerdescs,descs:a.descs,vatpaidby:a.vatpaidby,withholdingpaidby:a.withholdingpaidby,outstandingamt:t.isCurrency(t.TotalCharge,t.decimal),totalallocatedamt:t.isCurrency(a.totalallocatedamt,t.decimal),currencycd:a.currencycd,operator:a.operator,remarks:a.remarks},t.M_AP_PaymentD.trxtypeLabel=null!=t.M_AP_PaymentD.trxtype&&""!=t.M_AP_PaymentD.trxtype?a.trxtype:"",t.M_AP_PaymentD.currencycdLabel=null!=t.M_AP_PaymentD.currencycd&&""!=t.M_AP_PaymentD.currencycd?a.currencycd:"",t.PI_totalallocatedamt.cValidate="max_value:"+t.replaceAllString(t.M_AP_PaymentD.outstandingamt,",","","number")+"|cmax_value:Allocation Amount Cant be greater Than Outstanding Amount",t.IEBy.Input=a.user_input,t.IEBy.Edit=a.user_edit}})},getSpec:function(){var e=this,t={OptionFunctionCd:"GetGLSpecification",ModuleCd:"GL"};this.FnDynamicFunction(t).then(function(t){if(null!=t&&null!=t&&t.length>0){var a=t[0];e.BaseCurrencyCd=a.BaseCurrencyCd}})},handleInput:function(e,t,a){"text"==this.CreditCharge[e].props[a].cType?t&&(this.CreditCharge[e].data[a]=t.toString()):this.CreditCharge[e].data[a]=t},formatNumber:function(e,t,a,r){e=e||window.event;var i=e.which?e.which:e.keyCode;if("decimal"==this.CreditCharge[t].props[r].cType||"numeric"==this.CreditCharge[t].props[r].cType)if(i>31&&(i<48||i>57)&&46!==i)e.preventDefault();else if(46==i)if("numeric"==this.CreditCharge[t].props[r].cType)e.preventDefault();else{var n=this.CreditCharge[t].data[r];if(-1===n.indexOf("."))return!0;e.preventDefault()}else{if(!(i>64&&i<91||i>96&&i<123||8==i||32==i))return!0;e.preventDefault()}else if(13==i)return!0},isCurrency2:function(e,t,a){if("decimal"==this.CreditCharge[e].props[a].cType&&""!==this.CreditCharge[e].data[a]){var r=this.replaceAllString(this.CreditCharge[e].data[a],",","","number"),i=null;if(r.toString().indexOf(".")>-1)if(i=r.toString().split("."),i[1].length<this.CreditCharge[e].props[a].cDecimal);else{var n=parseFloat(r).toFixed(this.CreditCharge[e].props[a].cDecimal),c=n.toString().split(".");i[0]=c[0],i[1]=c[1]}else i=[r,"00"];var o=i[0]&&""!=i[0]?i[0]:0,l="."+i[1];this.CreditCharge[e].data[a]=o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+l}}},created:function(){},beforeMount:function(){},mounted:function(){this.hideSideBarMenu(),this.getSpec()},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}}),c=n,o=a("2877"),l=Object(o["a"])(c,r,i,!1,null,null,null);l.options.__file="AP_PaymentD.vue";t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d21aeb8.e8b3e84e.js.map