(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0f0a52"],{"9cf8":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("ABSListVuex",{attrs:{prop:e.propList,title:e.data.QueryName},on:{rowClicked:e.$parent.rowClicked,rowDblClicked:e.$parent.doDoubleClick,rowLinkClick:e.$parent.rowLink,pageSize:e.$parent.M_PageSize,pagination:e.$parent.M_Pagination,filter:e.$parent.M_Advance_Filter,headTable:e.$parent.M_Head_Table,refreshColumn:e.$parent.refreshColumn}}),o("div",{directives:[{name:"show",rawName:"v-show",value:e.$parent.showForm,expression:"$parent.showForm"}],staticClass:"el",style:"margin-top:10px;",attrs:{mousetip:"","mousetip-msg":"I'm a tooltip"}},[o("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse1",modifiers:{collapse1:!0}}],staticClass:"div-collapse"},[o("span",{directives:[{name:"show",rawName:"v-show",value:e.IEBy.Input&&e.IEBy.Edit,expression:"IEBy.Input && IEBy.Edit"}],staticClass:"master-span"},[e._v("\n                    Input By : "+e._s(e.IEBy.Input)+" | Edit By : "+e._s(e.IEBy.Edit)+" "),o("font-awesome-icon",{staticClass:"icon-style-1__master",attrs:{icon:"sort-down"}})],1)]),o("b-collapse",{attrs:{id:"collapse1",visible:!0}},[o("b-row",{staticStyle:{"padding-left":"10px","padding-bottom":"10px"}},[o("b-col",{staticClass:"bColMasterForm",attrs:{md:"12",id:"col-left"}},[o("b-form",{attrs:{"data-vv-scope":"FormScope_"+e.PageLevel+"_"+e.TabIndex,"data-vv-value-path":"FormScope_"+e.PageLevel+"_"+e.TabIndex}},[o("b-row",{staticStyle:{"padding-left":"10px"}},[o("b-col",{attrs:{md:"12",id:"col-left"}},[o("b-col",{attrs:{md:"12",id:"col-left"}},[o("b-row",[o("b-col",{attrs:{md:"6"}},[o("ABSInputSelectList",{ref:"ref_lotno",attrs:{prop:e.PI_lotno,value:e.M_TN_LotReservationLOT.lotno,label:e.M_TN_LotReservationLOT.lotnoLabel},on:{change:e.OnlotnoChange}})],1)],1),o("b-row",[o("b-col",{attrs:{md:"6"}},[o("ABSCompute",{ref:"ref_grossarea",attrs:{prop:e.PI_grossarea},model:{value:e.grossDescs,callback:function(t){e.grossDescs=t},expression:"grossDescs"}})],1)],1),o("b-row",[o("b-col",{attrs:{md:"6"}},[o("ABSCompute",{ref:"ref_blockcd",attrs:{prop:e.PI_blockcd},model:{value:e.M_TN_LotReservationLOT.blockdescs,callback:function(t){e.$set(e.M_TN_LotReservationLOT,"blockdescs",t)},expression:"M_TN_LotReservationLOT.blockdescs"}})],1)],1),o("b-row",[o("b-col",{attrs:{md:"6"}},[o("ABSCompute",{ref:"ref_floorcd",attrs:{prop:e.PI_floorcd},model:{value:e.M_TN_LotReservationLOT.floordescs,callback:function(t){e.$set(e.M_TN_LotReservationLOT,"floordescs",t)},expression:"M_TN_LotReservationLOT.floordescs"}})],1)],1),o("b-row",[o("b-col",{attrs:{md:"6"}},[o("ABSCompute",{ref:"ref_lotthemecd",attrs:{prop:e.PI_lotthemecd},model:{value:e.M_TN_LotReservationLOT.themedescs,callback:function(t){e.$set(e.M_TN_LotReservationLOT,"themedescs",t)},expression:"M_TN_LotReservationLOT.themedescs"}})],1)],1),o("b-row",[o("b-col",{attrs:{md:"6"}},[o("ABSCompute",{ref:"ref_lotclasscd",attrs:{prop:e.PI_lotclasscd},model:{value:e.M_TN_LotReservationLOT.classdescs,callback:function(t){e.$set(e.M_TN_LotReservationLOT,"classdescs",t)},expression:"M_TN_LotReservationLOT.classdescs"}})],1)],1),o("b-row",[o("b-col",{attrs:{md:"6"}},[o("ABSCompute",{ref:"ref_category",attrs:{prop:e.PI_category},model:{value:e.M_TN_LotReservationLOT.categorydescs,callback:function(t){e.$set(e.M_TN_LotReservationLOT,"categorydescs",t)},expression:"M_TN_LotReservationLOT.categorydescs"}})],1)],1),o("b-row",[o("b-col",{attrs:{md:"6"}},[o("ABSTextAreaVuex",{ref:"ref_remarks",attrs:{prop:e.PI_remarks},on:{input:e.OnremarksChange},model:{value:e.M_TN_LotReservationLOT.remarks,callback:function(t){e.$set(e.M_TN_LotReservationLOT,"remarks",t)},expression:"M_TN_LotReservationLOT.remarks"}})],1)],1)],1)],1)],1),o("ABSTAnalysis",{attrs:{prop:e.PTAnalysis}})],1)],1)],1)],1)],1)],1)},s=[],r=(o("ac6a"),o("6b54"),{props:{PageLevel:"",TabIndex:"",data:""},data:function(){return{ValKey:null,FormType:"List",Module:"TN",propList:{initialWhere:"SubPortfolioCd = '"+this.getDataUser().SubPortfolioCd+"' AND ApplicationNo = '"+this.ValKey+"'",LineNo:this.$parent.data.PageOrder,PageLevel:this.PageLevel,TabIndex:this.TabIndex,OrderBy:"",SourceField:"",ParamView:""},IEBy:{Input:"",Edit:""},M_TN_LotReservationLOT:{applicationno:"",subportfoliocd:this.getDataUser().SubPortfolioCd,lotno:"",grossarea:0,semigrossarea:0,netarea:0,rentalqty:0,rentalrate:0,rentalamt:0,chargearea:"",fixcharges:"",blockcd:"",blockdescs:"",floorcd:"",floordescs:"",rcd:"",red:"",tenantstatus:"",lotthemecd:"",themedescs:"",lotclasscd:"",classdescs:"",lotcategorycd:"",categorydescs:"",lottypedescs:"",remarks:"",userinput:"",useredit:this.getDataUser().UserId,antenna:"",lotdescs:"",budgetrate:0,totalrate:0,lastupdatestamp:0,rowid:0,grossseminetarea:""},PI_lotno:{dataLookUp:{LookUpCd:"GetLOOLotNo",ColumnDB:"LotNo",InitialWhere:"",ParamWhere:"",SourceField:"LotNo,Descs,FixCharges,Antenna,GrossArea,SemiGrossArea,NetArea",DisplayLookUp:"LotNo,Descs"},cValidate:"",cName:"lotno",cLabel:"Lot No",cKey:!0,cLabelSize:4,cOrder:1,cTriggered:!1,cDefault:"",cProtect:!1,cVisible:!0,cAsync:!1,cFilter:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex,cStatic:!1,cOption:[],cMasterUrl:"",cDisplayColumn:"LotNo,Descs"},PI_grossarea:{cValidate:"required|max:13",cName:"grossarea",cLabel:"Gross / Semi Gross / Net Area",cLabelSize:4,cOrder:0,cKey:!1,cType:"text",cDecimal:2,cVisible:!0,cProtect:!1,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_semigrossarea:{cValidate:"required|max:13",cName:"semigrossarea",cLabel:"Semi Gross Area",cLabelSize:4,cOrder:0,cKey:!1,cType:"decimal",cDecimal:2,cVisible:!0,cProtect:!1,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_netarea:{cValidate:"required|max:13",cName:"netarea",cLabel:"Net Area",cLabelSize:4,cOrder:0,cKey:!1,cType:"decimal",cDecimal:2,cVisible:!0,cProtect:!1,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_blockcd:{cLabel:"Block",cLabelSize:4,cValue:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cVisible:!0},PI_floorcd:{cLabel:"Floor",cLabelSize:4,cValue:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cVisible:!0},PI_lotthemecd:{cLabel:"Theme",cLabelSize:4,cValue:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cVisible:!0},PI_lotclasscd:{cLabel:"Class",cLabelSize:4,cValue:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cVisible:!0},PI_category:{cLabel:"Category",cLabelSize:4,cValue:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cVisible:!0},PI_remarks:{cValidate:"",cName:"remarks",cLabel:"Remarks",cLabelSize:4,cOrder:2,cKey:!1,cDefault:"",cProtect:!1,cVisible:!0,cResize:!1,cReadOnly:!1,cRows:3,cMaxRows:3,cSize:"md",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PTAnalysis:{cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cPageMasterSeq:this.data.PageMasterSeq,cFormPageNo:this.data.PageOrder,cProtect:!1}}},computed:{inputStatus:function(){return this.$store.getters.getLevel==this.PageLevel&&this.$store.getters.getTab==this.TabIndex?this.$store.getters.getStatus.toUpperCase():"VIEW"},DataRow:function(){return this.$store.getters.GetPage2Data},DataRowPage1:function(){return this.$store.getters.GetPage1Data},GetDataBy1:function(){return this.$store.getters.GetPage1GetDataBy},grossDescs:function(){return this.isCurrency(this.M_TN_LotReservationLOT.grossarea)+" / "+this.isCurrency(this.M_TN_LotReservationLOT.semigrossarea)+" / "+this.isCurrency(this.M_TN_LotReservationLOT.netarea)}},methods:{OnlotnoChange:function(e){var t=this;this.$nextTick(function(){if(t.M_TN_LotReservationLOT.lotno=e.id,t.M_TN_LotReservationLOT.lotnoLabel=e.label,"VIEW"!=t.inputStatus){var o={OptionFunctionCd:"GetLotInfo",ModuleCd:t.Module,SubPortfolioCd:t.getDataUser().SubPortfolioCd,LotNo:e.id,RCD:t.M_TN_LotReservationLOT.rcd};t.FnDynamicFunction(o).then(function(e){if(null!=e&&!(e.length<1)){var o=e[0];t.M_TN_LotReservationLOT.grossarea=o.GrossArea?o.GrossArea:"",t.M_TN_LotReservationLOT.semigrossarea=o.SemiGrossArea?o.SemiGrossArea:"",t.M_TN_LotReservationLOT.netarea=o.NetArea?o.NetArea:"",t.M_TN_LotReservationLOT.blockcd=o.BlockCd?o.BlockCd:"",t.M_TN_LotReservationLOT.blockdescs=(o.BlockCd?o.BlockCd:"")+" - "+(o.BlockName?o.BlockName:""),t.M_TN_LotReservationLOT.floorcd=o.FloorCd?o.FloorCd:"",t.M_TN_LotReservationLOT.floordescs=(o.FloorCd?o.FloorCd:"")+" - "+(o.FloorName?o.FloorName:""),t.M_TN_LotReservationLOT.lotthemecd=o.LotThemeCd?o.LotThemeCd:"",t.M_TN_LotReservationLOT.themedescs=(o.LotThemeCd?o.LotThemeCd:"")+" - "+(o.ThemeDescs?o.ThemeDescs:""),t.M_TN_LotReservationLOT.lotclasscd=o.LotClassCd?o.LotClassCd:"",t.M_TN_LotReservationLOT.classdescs=(o.LotClassCd?o.LotClassCd:"")+" - "+(o.ClassDescs?o.ClassDescs:""),t.M_TN_LotReservationLOT.lotcategorycd=o.CategoryDescs?o.CategoryDescs:"",t.M_TN_LotReservationLOT.categorydescs=(o.LotCategoryCd?o.LotCategoryCd:"")+" - "+(o.CategoryDescs?o.CategoryDescs:"")}})}}),this.$forceUpdate()},OnremarksChange:function(e){var t=this;this.$nextTick(function(){t.inputStatus}),this.$forceUpdate()},setToolbarButton:function(){},M_Head_Table:function(){},M_PageSize:function(){},M_TabClick:function(){},M_Pagination:function(){},M_Advance_Filter:function(){},M_Search:function(e){},M_Refresh:function(){},M_Cancel:function(){},doDoubleClick:function(){},rowClicked:function(e,t){},rowLink:function(e){this.$refs.modalTest.show()},GetOtherLotInfoInContract:function(){var e=this,t={OptionFunctionCd:"GetOtherLotInfoInContract",ModuleCd:this.Module,ApplicationNo:this.DataRowPage1.ApplicationNo,SubPortfolioCd:this.getDataUser().SubPortfolioCd};this.FnDynamicFunction(t).then(function(t){null==t?e.GetRCd(!1,t[0].FixCharges):t.length>0?e.GetRCd(!0,""):e.GetRCd(!1,t[0].FixCharges)})},GetRCd:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],{OptionFunctionCd:"GetRCd",ModuleCd:this.Module,SubPortfolioCd:this.getDataUser().SubPortfolioCd,ApplicationNo:this.DataRowPage1.ApplicationNo});this.FnDynamicFunction(o).then(function(o){if(null!=o){var a=o[0];e.M_TN_LotReservationLOT.rcd=e.momentDate(a.RCD),e.PI_lotno.dataLookUp.ParamView="'"+e.momentDate(a.RCD)+"','"+e.getDataUser().SubPortfolioCd+"','"+e.DataRowPage1.ApplicationNo+"'",0==t&&(e.PI_lotno.dataLookUp.InitialWhere="FixCharges = (SELECT top 1 tl.FixCharges FROM TN_ContractLot tcl INNER JOIN TN_Lot tl ON tl.LotNo = tcl.LotNo AND tl.SubPortfolioCd = tcl.SubPortfolioCd Where applicationno = '"+e.DataRowPage1.ApplicationNo+"' and tcl.SubPortfolioCd = '"+e.getDataUser().SubPortfolioCd+"') And Antenna = (SELECT top 1 tl.Antenna FROM TN_ContractLot tcl INNER JOIN TN_Lot tl ON tl.LotNo = tcl.LotNo AND tl.SubPortfolioCd = tcl.SubPortfolioCd Where applicationno = '"+e.DataRowPage1.ApplicationNo+"' and tcl.SubPortfolioCd = '"+e.getDataUser().SubPortfolioCd+"')")}})},paramFromParent:function(){this.$parent.showForm=!1;var e=this.$store.getters.GetPage1Data;this.M_TN_LotReservationLOT.applicationno=e.ApplicationNo,this.GetRCd(),"A"==e.StatusCd&&"5"==e.ContractStatus.toString()?(this.FormType="View",this.$store.commit("setFormType","View"),this.getToolbar().ProcessPS()):(this.FormType="List",this.$store.commit("setFormType","List"),this.getToolbar().ProcessPS()),this.propList.initialWhere=" ApplicationNo = '"+e.ApplicationNo+"' ",this.FormToABSList().doGetList("","eb_getList")},M_Insert:function(){var e=this,t={OptionSeq:this.getOptionSeq().OptionSeq,LineNo:this.$parent.data.PageOrder,SubPortfolioCd:this.getDataUser().SubPortfolioCd,ApplicationNo:this.M_TN_LotReservationLOT.applicationno,LotNo:""==this.M_TN_LotReservationLOT.lotno||null==this.M_TN_LotReservationLOT.lotno?"NULL":this.M_TN_LotReservationLOT.lotno,RentalQty:this.M_TN_LotReservationLOT.rentalqty,RentalRate:this.M_TN_LotReservationLOT.rentalrate,Remarks:this.M_TN_LotReservationLOT.remarks,UserInput:this.getDataUser().UserId};this.postJSON(this.getUrlInsert(),t).then(function(t){null!=t&&e.$parent.resultInsert(t.Message)})},M_Update:function(){var e=this,t={OptionSeq:this.getOptionSeq().OptionSeq,LineNo:this.$parent.data.PageOrder,SubPortfolioCd:this.getDataUser().SubPortfolioCd,ApplicationNo:this.M_TN_LotReservationLOT.applicationno,LotNo:""==this.M_TN_LotReservationLOT.lotno||null==this.M_TN_LotReservationLOT.lotno?"NULL":this.M_TN_LotReservationLOT.lotno,RentalQty:this.M_TN_LotReservationLOT.rentalqty,RentalRate:this.M_TN_LotReservationLOT.rentalrate,Remarks:this.M_TN_LotReservationLOT.remarks,UserEdit:this.getDataUser().UserId,LastUpdateStamp:this.M_TN_LotReservationLOT.lastupdatestamp};this.postJSON(this.getUrlUpdate(),t).then(function(t){null!=t&&e.$parent.resultUpdate(t.Message)})},M_ClearForm:function(){this.M_TN_LotReservationLOT={applicationno:"",subportfoliocd:this.getDataUser().SubPortfolioCd,lotno:"",grossarea:0,semigrossarea:0,netarea:0,rentalqty:0,rentalrate:0,rentalamt:0,chargearea:"",fixcharges:"",blockcd:"",blockdescs:"",floorcd:"",floordescs:"",rcd:"",red:"",tenantstatus:"",lotthemecd:"",themedescs:"",lotclasscd:"",classdescs:"",lotcategorycd:"",categorydescs:"",lottypedescs:"",remarks:"",userinput:"",useredit:this.getDataUser().UserId,antenna:"",lotdescs:"",budgetrate:0,totalrate:0,lastupdatestamp:0,rowid:0,grossseminetarea:""}},M_New:function(){var e=this.$store.getters.GetPage1Data;this.M_TN_LotReservationLOT.applicationno=e.ApplicationNo},M_Edit:function(){},M_Delete:function(e){var t=this,o=this.FormToABSList().getRowSelected(),a=[];o.forEach(function(e){a.push({SubPortfolioCd:t.getDataUser().SubPortfolioCd,LotNo:""==e.LotNo||null==e.LotNo?"NULL":e.LotNo,ApplicationNo:e.ApplicationNo,LastUpdateStamp:e.LastUpdateStamp,_Message_:""})});var s={OptionSeq:this.getOptionSeq().OptionSeq,LineNo:this.$parent.data.PageOrder,Data:a};this.postJSONMulti(this.getUrlNewDeleteMulti(),s).then(function(e){null!=e&&t.$parent.resultDelete()})},getDataBy:function(e){var t=this,o={OptionSeq:this.getOptionSeq().OptionSeq,LineNo:this.$parent.data.PageOrder,SubPortfolioCd:this.getDataUser().SubPortfolioCd,applicationno:e.ApplicationNo,lotno:e.LotNo};this.postEncode(this.getUrlById(),o).then(function(o){if(null!=o){var a=o.Data[0];t.M_TN_LotReservationLOT={applicationno:e.ApplicationNo,subportfoliocd:a.subportfoliocd,lotno:a.lotno,grossarea:t.isCurrency(a.grossarea,t.decimal),semigrossarea:t.isCurrency(a.semigrossarea,t.decimal),netarea:t.isCurrency(a.netarea,t.decimal),rentalqty:t.isCurrency(a.rentalqty,t.decimal),rentalrate:t.isCurrency(a.rentalrate,t.decimal),rentalamt:t.isCurrency(a.rentalamt,t.decimal),chargearea:a.chargearea,fixcharges:a.fixcharges,blockcd:a.blockcd+"-"+a.blockdescs,blockdescs:a.blockdescs,floorcd:a.floorcd+"-"+a.floordescs,floordescs:a.floordescs,rcd:a.rcd,red:a.red,tenantstatus:a.tenantstatus,lotthemecd:a.lotthemecd,themedescs:a.themedescs,lotclasscd:a.lotclasscd,classdescs:a.classdescs,lotcategorycd:a.lotcategorycd,categorydescs:a.categorydescs,lottypedescs:a.lottypedescs,remarks:a.remarks,userinput:a.userinput,useredit:a.useredit,antenna:a.antenna,lotdescs:a.lotdescs,budgetrate:t.isCurrency(a.budgetrate,t.decimal),totalrate:t.isCurrency(a.totalrate,t.decimal),lastupdatestamp:e.LastUpdateStamp,rowid:a.rowid,grossseminetarea:a.grossseminetarea},t.M_TN_LotReservationLOT.lotnoLabel=null!=t.M_TN_LotReservationLOT.lotno&&""!=t.M_TN_LotReservationLOT.lotno?a.lotno+t.separator+a.lotdescs:"",t.IEBy.Input=a.userinput,t.IEBy.Edit=a.useredit}})}},created:function(){},beforeMount:function(){},mounted:function(){this.hideSideBarMenu()},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}}),i=r,n=o("2877"),c=Object(n["a"])(i,a,s,!1,null,null,null);c.options.__file="TN_LotReservationLOT.vue";t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0f0a52.138bf805.js.map