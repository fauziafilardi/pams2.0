(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e1fae"],{"7d6a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ABSListVuex",{attrs:{prop:e.propList,title:e.data.QueryName},on:{rowClicked:e.$parent.rowClicked,rowDblClicked:e.$parent.doDoubleClick,rowLinkClick:e.$parent.rowLink,pageSize:e.$parent.M_PageSize,pagination:e.$parent.M_Pagination,filter:e.$parent.M_Advance_Filter,headTable:e.$parent.M_Head_Table,refreshColumn:e.$parent.refreshColumn}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.$parent.showForm,expression:"$parent.showForm"}],staticClass:"el",style:"margin-top:10px;",attrs:{mousetip:"","mousetip-msg":"I'm a tooltip"}},[a("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse1",modifiers:{collapse1:!0}}],staticClass:"div-collapse"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.IEBy.Input&&e.IEBy.Edit,expression:"IEBy.Input && IEBy.Edit"}],staticClass:"master-span"},[e._v("\n                    Input By : "+e._s(e.IEBy.Input)+" | Edit By : "+e._s(e.IEBy.Edit)+" "),a("font-awesome-icon",{staticClass:"icon-style-1__master",attrs:{icon:"sort-down"}})],1)]),a("b-collapse",{attrs:{id:"collapse1",visible:!0}},[a("b-row",{staticStyle:{"padding-left":"10px","padding-bottom":"10px"}},[a("b-col",{staticClass:"bColMasterForm",attrs:{md:"12",id:"col-left"}},[a("b-form",{attrs:{"data-vv-scope":"FormScope_"+e.PageLevel+"_"+e.TabIndex,"data-vv-value-path":"FormScope_"+e.PageLevel+"_"+e.TabIndex}},[a("b-row",{staticStyle:{"padding-left":"10px"}},[a("b-col",{attrs:{md:"12",id:"col-left"}},[a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputCheckBox",{ref:"ref_kautounderover",attrs:{prop:e.PI_kautounderover},on:{input:e.OnkautounderoverChange},model:{value:e.M_AR_OfficialReceiptD.kautounderover,callback:function(t){e.$set(e.M_AR_OfficialReceiptD,"kautounderover",t)},expression:"M_AR_OfficialReceiptD.kautounderover"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_debitno",attrs:{prop:e.PI_debitno},model:{value:e.M_AR_OfficialReceiptD.debitno,callback:function(t){e.$set(e.M_AR_OfficialReceiptD,"debitno",t)},expression:"M_AR_OfficialReceiptD.debitno"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_trxtype",attrs:{prop:e.PI_trxtype},model:{value:e.M_AR_OfficialReceiptD.trxtype,callback:function(t){e.$set(e.M_AR_OfficialReceiptD,"trxtype",t)},expression:"M_AR_OfficialReceiptD.trxtype"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_headerdescs",attrs:{prop:e.PI_headerdescs},model:{value:e.M_AR_OfficialReceiptD.headerdescs,callback:function(t){e.$set(e.M_AR_OfficialReceiptD,"headerdescs",t)},expression:"M_AR_OfficialReceiptD.headerdescs"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSTextAreaVuex",{ref:"ref_descs",attrs:{prop:e.PI_descs},model:{value:e.M_AR_OfficialReceiptD.descs,callback:function(t){e.$set(e.M_AR_OfficialReceiptD,"descs",t)},expression:"M_AR_OfficialReceiptD.descs"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputRadioButtonVuex",{ref:"ref_vatpaidby",attrs:{prop:e.PI_vatpaidby},on:{input:e.OnvatpaidbyChange},model:{value:e.M_AR_OfficialReceiptD.vatpaidby,callback:function(t){e.$set(e.M_AR_OfficialReceiptD,"vatpaidby",t)},expression:"M_AR_OfficialReceiptD.vatpaidby"}})],1),a("b-col",{attrs:{md:"6"}},[a("ABSinputRadioButtonVuex",{ref:"ref_withholdingpaidby",attrs:{prop:e.PI_withholdingpaidby},on:{input:e.OnwithholdingpaidbyChange},model:{value:e.M_AR_OfficialReceiptD.withholdingpaidby,callback:function(t){e.$set(e.M_AR_OfficialReceiptD,"withholdingpaidby",t)},expression:"M_AR_OfficialReceiptD.withholdingpaidby"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_outstandingamt",attrs:{prop:e.PI_outstandingamt},model:{value:e.M_AR_OfficialReceiptD.outstandingamt,callback:function(t){e.$set(e.M_AR_OfficialReceiptD,"outstandingamt",t)},expression:"M_AR_OfficialReceiptD.outstandingamt"}})],1),a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_totalallocatedamt",attrs:{prop:e.PI_totalallocatedamt},on:{input:e.OntotalallocateamtChange},model:{value:e.M_AR_OfficialReceiptD.totalallocatedamt,callback:function(t){e.$set(e.M_AR_OfficialReceiptD,"totalallocatedamt",t)},expression:"M_AR_OfficialReceiptD.totalallocatedamt"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputTextVuex",{ref:"ref_debitcurrencycd",attrs:{prop:e.PI_debitcurrencycd},model:{value:e.M_AR_OfficialReceiptD.debitcurrencycd,callback:function(t){e.$set(e.M_AR_OfficialReceiptD,"debitcurrencycd",t)},expression:"M_AR_OfficialReceiptD.debitcurrencycd"}})],1),a("b-col",{attrs:{md:"6"}},[a("ABSinputCheckBox",{ref:"ref_fullallocate",attrs:{prop:e.PI_fullallocate},on:{input:e.OnfullallocateChange},model:{value:e.M_AR_OfficialReceiptD.fullallocate,callback:function(t){e.$set(e.M_AR_OfficialReceiptD,"fullallocate",t)},expression:"M_AR_OfficialReceiptD.fullallocate"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSinputRadioButtonVuex",{ref:"ref_operator",attrs:{prop:e.PI_operator},on:{input:e.OnoperatorChange},model:{value:e.M_AR_OfficialReceiptD.operator,callback:function(t){e.$set(e.M_AR_OfficialReceiptD,"operator",t)},expression:"M_AR_OfficialReceiptD.operator"}})],1)],1),a("div",{staticClass:"div-collapse"},[a("b-row",[a("b-col",{attrs:{md:"2"}}),a("b-col",{attrs:{md:"2"}},[a("ABSLabelOnly",{attrs:{prop:{cLabel:"Outstanding Amount",cLabelSize:4,cValue:"",cPageLevel:e.PageLevel,cTabIndex:e.TabIndex,cVisible:!0,cClass:"lbl-col-align"}}})],1),a("b-col",{attrs:{md:"2"}},[a("ABSLabelOnly",{attrs:{prop:{cLabel:"Currency Rate",cLabelSize:4,cValue:"",cPageLevel:e.PageLevel,cTabIndex:e.TabIndex,cVisible:!0,cClass:"lbl-col-align"}}})],1),a("b-col",{attrs:{md:"2"}},[a("ABSLabelOnly",{attrs:{prop:{cLabel:"Allocation Amount",cLabelSize:4,cValue:"",cPageLevel:e.PageLevel,cTabIndex:e.TabIndex,cVisible:!0,cClass:"lbl-col-align"}}})],1),a("b-col",{attrs:{md:"2"}},[a("ABSLabelOnly",{attrs:{prop:{cLabel:"Allocation Currency Rate",cLabelSize:4,cValue:"",cPageLevel:e.PageLevel,cTabIndex:e.TabIndex,cVisible:!0,cClass:"lbl-col-align"}}})],1)],1)],1),e._l(e.DebitCharge,function(t,i){return a("b-row",{key:i},[a("b-col",{attrs:{md:"2"}},[a("ABSLabelOnly",{attrs:{prop:t.props.label}})],1),a("b-col",{directives:[{name:"show",rawName:"v-show",value:"VIEW"!==e.inputStatus,expression:"inputStatus!=='VIEW'"}],attrs:{md:"2"}},[a("b-form-input",{ref:"ref_outstanding_"+(i+1),refInFor:!0,staticClass:"text-field-form form-control input",staticStyle:{"text-align":"right"},attrs:{name:t.props.outstanding.cName,id:t.props.outstanding.cName,rowLine:"0",type:"text",disabled:"disabled"},on:{input:function(a){e.handleInput(i,t.data.outstanding,"outstanding")},blur:function(a){e.onBlur("outstanding",t.data.outstanding)}},nativeOn:{keypress:function(a){e.formatNumber(a,i,t.data.outstanding,"outstanding")},blur:function(a){e.isCurrency2(i,t.data.outstanding,"outstanding")}},model:{value:t.data.outstanding,callback:function(a){e.$set(t.data,"outstanding",a)},expression:"data.data.outstanding"}})],1),"VIEW"==e.inputStatus&&"decimal"==t.props.outstanding.cType?a("b-col",{staticStyle:{"text-align":"right !important"},attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.outstanding))])]):"VIEW"==e.inputStatus&&"numeric"==t.props.outstanding.cType?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.outstanding))])]):"VIEW"==e.inputStatus?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.outstanding))])]):e._e(),a("b-col",{directives:[{name:"show",rawName:"v-show",value:"VIEW"!==e.inputStatus,expression:"inputStatus!=='VIEW'"}],attrs:{md:"2"}},[a("b-form-input",{ref:"ref_currencyrate_"+(i+1),refInFor:!0,staticClass:"text-field-form form-control input",staticStyle:{"text-align":"right"},attrs:{name:t.props.currencyrate.cName,id:t.props.currencyrate.cName,rowLine:"0",type:"text",disabled:"disabled"},on:{input:function(a){e.handleInput(i,t.data.currencyrate,"currencyrate")},blur:function(a){e.onBlur("currencyrate",i,t.data.currencyrate)}},nativeOn:{keypress:function(a){e.formatNumber(a,i,t.data.currencyrate,"currencyrate")},blur:function(a){e.isCurrency2(i,t.data.currencyrate,"currencyrate")}},model:{value:t.data.currencyrate,callback:function(a){e.$set(t.data,"currencyrate",a)},expression:"data.data.currencyrate"}})],1),"VIEW"==e.inputStatus&&"decimal"==t.props.currencyrate.cType?a("b-col",{staticStyle:{"text-align":"right !important"},attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.currencyrate))])]):"VIEW"==e.inputStatus&&"numeric"==t.props.currencyrate.cType?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.currencyrate))])]):"VIEW"==e.inputStatus?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.currencyrate))])]):e._e(),a("b-col",{directives:[{name:"show",rawName:"v-show",value:"VIEW"!==e.inputStatus,expression:"inputStatus!=='VIEW'"}],attrs:{md:"2"}},[a("b-form-input",{ref:"ref_allocamt_"+(i+1),refInFor:!0,staticClass:"text-field-form form-control input",staticStyle:{"text-align":"right"},attrs:{name:t.props.allocamt.cName,id:t.props.allocamt.cName,rowLine:"0",type:"text"},on:{input:function(a){e.handleInput(i,t.data.allocamt,"allocamt")},blur:function(a){e.onBlur("allocamt",i,t.data.allocamt)}},nativeOn:{keypress:function(a){e.formatNumber(a,i,t.data.allocamt,"allocamt")},blur:function(a){e.isCurrency2(i,t.data.allocamt,"allocamt")}},model:{value:t.data.allocamt,callback:function(a){e.$set(t.data,"allocamt",a)},expression:"data.data.allocamt"}})],1),"VIEW"==e.inputStatus&&"decimal"==t.props.allocamt.cType?a("b-col",{staticStyle:{"text-align":"right !important"},attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.allocamt))])]):"VIEW"==e.inputStatus&&"numeric"==t.props.allocamt.cType?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.allocamt))])]):"VIEW"==e.inputStatus?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.allocamt))])]):e._e(),a("b-col",{directives:[{name:"show",rawName:"v-show",value:"VIEW"!==e.inputStatus,expression:"inputStatus!=='VIEW'"}],attrs:{md:"2"}},[a("b-form-input",{ref:"ref_alloccurrencyrate_"+(i+1),refInFor:!0,staticClass:"text-field-form form-control input",staticStyle:{"text-align":"right"},attrs:{name:t.props.alloccurrencyrate.cName,id:t.props.alloccurrencyrate.cName,rowLine:"0",type:"text",disabled:"disabled"},on:{input:function(a){e.handleInput(i,t.data.alloccurrencyrate,"alloccurrencyrate")},blur:function(a){e.onBlur("alloccurrencyrate",i,t.data.alloccurrencyrate)}},nativeOn:{keypress:function(a){e.formatNumber(a,i,t.data.alloccurrencyrate,"alloccurrencyrate")},blur:function(a){e.isCurrency2(i,t.data.alloccurrencyrate,"alloccurrencyrate")}},model:{value:t.data.alloccurrencyrate,callback:function(a){e.$set(t.data,"alloccurrencyrate",a)},expression:"data.data.alloccurrencyrate"}})],1),"VIEW"==e.inputStatus&&"decimal"==t.props.alloccurrencyrate.cType?a("b-col",{staticStyle:{"text-align":"right !important"},attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.alloccurrencyrate))])]):"VIEW"==e.inputStatus&&"numeric"==t.props.alloccurrencyrate.cType?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.alloccurrencyrate))])]):"VIEW"==e.inputStatus?a("b-col",{attrs:{md:"2"}},[a("label",{staticClass:"lbl-value-view-form notranslate"},[e._v(e._s(t.data.alloccurrencyrate))])]):e._e()],1)}),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("ABSTextAreaVuex",{ref:"ref_remarks",attrs:{prop:e.PI_remarks},on:{input:e.OnremarksChange},model:{value:e.M_AR_OfficialReceiptD.remarks,callback:function(t){e.$set(e.M_AR_OfficialReceiptD,"remarks",t)},expression:"M_AR_OfficialReceiptD.remarks"}})],1)],1)],2)],1)],1)],1)],1)],1)],1)],1)},r=[],c=(a("a481"),a("28a5"),a("6b54"),a("6762"),a("2fdb"),a("ade3")),l={props:{PageLevel:"",TabIndex:"",data:""},data:function(){var e;return{ValKey:null,FormType:"List",Module:"AR",propList:{initialWhere:"",LineNo:this.$parent.data.PageOrder,PageLevel:this.PageLevel,TabIndex:this.TabIndex,OrderBy:"",SourceField:"",ParamView:""},fields:[{key:"label",label:""},{key:"outstanding",label:"Outstanding Amount"},{key:"currencyrate",label:"Currency Rate"},{key:"allocamt",label:"Allocation Amount"},{key:"alloccurrencyrate",label:"Allocation Currency Rate"}],IEBy:{Input:"",Edit:""},M_AR_OfficialReceiptD:(e={autounderover:"",journalcategory:"",debitno:"",trxtype:"",descs:"",headerdescs:"",currencycd:"",currencyrate:"",vatpaidby:"",withholdingpaidby:"",taxcurrencyrate:"",remarks:"",totalallocatedamt:"0",currentcurrencyrate:"",currenttaxcurrencyrate:"",operator:"",taxcd:"",rowid:0,lastupdatestamp:0,toutstandingamt:"",detailoutstandingamt:"",detailcurrencyrate:"",detailallocamt:"",outstandingamt:"",fullallocate:[]},Object(c["a"])(e,"detailoutstandingamt",""),Object(c["a"])(e,"debitcurrencyrate",""),Object(c["a"])(e,"allocationamt","0"),Object(c["a"])(e,"creditcurrencyrate","0"),e),PI_kautounderover:{cValidate:"",cName:"kautounderover",cLabel:"",cLabelSize:4,cOptions:[{text:"Otomatis Isikan Sisa Total Alokasi dengan Total Pembayaran ke Over/Under Payment ? ",value:"Y"}],cOrder:100,cKey:!1,cVisible:!0,cProtect:!1,cDefault:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_debitno:{cValidate:"",cLabel:"Doc. No",cLabelSize:4,cValue:"",cOrder:101,cKey:!1,cVisible:!0,cProtect:!0,cDefault:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_trxtype:{cValidate:"",cLabel:"Trans. Type",cLabelSize:4,cValue:"",cOrder:102,cKey:!1,cVisible:!0,cProtect:!0,cDefault:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_headerdescs:{cValidate:"",cLabel:"Description",cLabelSize:4,cValue:"",cOrder:103,cKey:!1,cVisible:!0,cProtect:!0,cDefault:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_descs:{cValidate:"",cLabel:"Detail Description",cLabelSize:4,cValue:"",cOrder:104,cKey:!1,cVisible:!0,cProtect:!0,cDefault:"",cResize:!1,cReadOnly:!1,cRows:2,cMaxRows:2,cSize:"md",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_vatpaidby:{cValidate:"",cName:"vatpaidby",cId:"rdbvatpaidby",cRadioOptions:[{text:"Debtor",value:"D"},{text:"Management",value:"M"}],cRadioDefaultOption:"",cLabel:"VAT Paid By",cLabelSize:4,cOrder:105,cKey:!0,cProtect:!1,cVisible:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_withholdingpaidby:{cValidate:"",cName:"withholdingpaidby",cId:"rdbwithholdingpaidby",cRadioOptions:[{text:"Debtor",value:"D"},{text:"Management",value:"M"}],cRadioDefaultOption:"",cLabel:"Withholding Paid By   ",cLabelSize:4,cOrder:106,cKey:!0,cProtect:!1,cVisible:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_outstandingamt:{cLabel:"Outstanding Amount",cLabelSize:4,cValue:"",cType:"decimal",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cVisible:!0,cProtect:!0},PI_totalallocatedamt:{cValidate:"cmax_value:a",cName:"totalallocatedamt",cLabel:"Allocation Amount",cLabelSize:4,cOrder:107,cKey:!1,cType:"decimal",cVisible:!0,cProtect:!1,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_fullallocate:{cValidate:"",cName:"fullallocate",cLabel:"Allocation",cLabelSize:4,cOptions:[{text:"Auto Allocate",value:"Y"}],cOrder:108,cKey:!1,cVisible:!0,cProtect:!1,cDefault:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_debitcurrencycd:{cValidate:"",cLabel:"Currency",cLabelSize:4,cValue:"",cOrder:109,cKey:!1,cVisible:!0,cProtect:!0,cDefault:"",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_operator:{cValidate:"",cName:"operator",cId:"rdboperator",cRadioOptions:[{text:"Multiply (*)",value:"*"},{text:"Divide (/)",value:"/"}],cRadioDefaultOption:"",cLabel:"Operator",cLabelSize:4,cOrder:110,cKey:!0,cProtect:!1,cVisible:!0,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_detailoutstandingamt:{cLabel:"",cLabelSize:4,cValue:"",cType:"decimal",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cVisible:!0,cProtect:!0},PI_detailcurrencyrate:{cLabel:"",cLabelSize:4,cValue:"",cType:"decimal",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cVisible:!0,cProtect:!0},PI_detailallocamt:{cValidate:"",cName:"allocationamt",cLabel:"",cLabelSize:4,cOrder:111,cKey:!1,cType:"decimal",cVisible:!0,cProtect:!1,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_detailalloccurrencyamt:{cValidate:"",cName:"creditcurrencyrate",cLabel:"",cLabelSize:4,cOrder:112,cKey:!1,cType:"decimal",cVisible:!0,cProtect:!1,cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},PI_remarks:{cValidate:"",cName:"remarks",cLabel:"Remarks",cLabelSize:4,cOrder:113,cKey:!1,cDefault:"",cProtect:!1,cVisible:!0,cResize:!1,cReadOnly:!1,cRows:3,cMaxRows:3,cSize:"md",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex},DataDetail:null,DebitCharge:[],TotalCharge:0,FnAllocationAmt:0,BaseCurrencyCd:""}},computed:{inputStatus:function(){return this.$store.getters.getLevel==this.PageLevel&&this.$store.getters.getTab==this.TabIndex?this.$store.getters.getStatus.toUpperCase():"VIEW"},DataRow:function(){return this.$store.getters.GetPage2Data},DataRowPage1:function(){return this.$store.getters.GetPage1Data}},methods:{OnkautounderoverChange:function(e){var t=this;this.$nextTick(function(){t.inputStatus}),this.$forceUpdate()},OnvatpaidbyChange:function(e){var t=this;this.$nextTick(function(){t.inputStatus}),this.$forceUpdate()},OnwithholdingpaidbyChange:function(e){var t=this;this.$nextTick(function(){t.inputStatus}),this.$forceUpdate()},OnfullallocateChange:function(e){var t=this;this.$nextTick(function(){if("VIEW"!=t.inputStatus)if(e.includes("Y")){t.M_AR_OfficialReceiptD.totalallocatedamt=t.isCurrency(t.TotalCharge,t.decimal);for(var a=0;a<t.DebitCharge.length;a++)t.DebitCharge[a].data.allocamt=t.DebitCharge[a].data.outstanding}else{t.M_AR_OfficialReceiptD.totalallocatedamt="";for(var i=0;i<t.DebitCharge.length;i++)t.DebitCharge[i].data.allocamt=""}}),this.$forceUpdate()},OnoperatorChange:function(e){var t=this;this.$nextTick(function(){t.inputStatus}),this.$forceUpdate()},OnremarksChange:function(e){var t=this;this.$nextTick(function(){t.inputStatus}),this.$forceUpdate()},setToolbarButton:function(){this.getToolbar().statusFunction[0].disabled=!0,this.getToolbar().statusFunction[2].disabled=!0},M_Head_Table:function(){},M_PageSize:function(){},M_TabClick:function(){},M_Pagination:function(){},M_Advance_Filter:function(){},M_Search:function(e){},M_Refresh:function(){},M_Cancel:function(){},doDoubleClick:function(){},rowClicked:function(e,t){},rowLink:function(e){this.$refs.modalTest.show()},paramFromParent:function(){this.$parent.showForm=!1;var e=this.$store.getters.GetPage1Data;this.M_AR_OfficialReceiptD.currencycd=e.CurrencyCd,this.propList.ParamView="'"+this.getDataUser().SubPortfolioCd+"', '"+e.ReceiptNo+"', '"+e.DebtorCd+"', '"+e.CurrencyCd+"'",this.FormToABSList().doGetList("","eb_getList")},M_Insert:function(){},M_Update:function(){var e=this;if(0==this.DataRow.CreditSequenceNo){var t={OptionFunctionCd:"CheckCreditNoteChargeToInvoiceD",ModuleCd:this.Module,SequenceNo:this.DataRow.DebitSequenceNo};this.FnDynamicFunction(t).then(function(t){!t||t.length>0?e.alertError("Cannot Edit Data, Invoice has already change to CN"):e.M_UpdateOR()})}else this.M_UpdateOR()},M_Update_bk:function(){var e=this;if("Posted"!=this.DataRowPage1.BatchStatus){var t="",a="",i={OptionFunctionCd:"GetLastVATPaidBy",ModuleCd:"AR",SubPortfolioCd:this.getDataUser().SubPortfolioCd,DebitNo:this.M_AR_OfficialReceiptD.debitno};this.FnDynamicFunction(i).then(function(i){if(null!=i&&null!=i&&i.length>0){var r=i[0];if(t=r.VATPaidBy,a=r.WithHoldingPaidBy,"M"==e.M_AR_OfficialReceiptD.vatpaidby&&"M"!=t)return void e.alertError("Cannot Edit Data, VAT Paid by Management has already change, please refresh first");if("D"==e.M_AR_OfficialReceiptD.vatpaidby&&"D"!=t)return void e.alertError("Cannot Edit Data, VAT Paid by Debtor has already change, please refresh first");if("M"==e.M_AR_OfficialReceiptD.withholdingpaidby&&"M"!=a)return void e.alertError("Cannot Edit Data, WithHolding Paid by Management has already change, please refresh first");if("D"==e.M_AR_OfficialReceiptD.withholdingpaidby&&"D"!=a)return void e.alertError("Cannot Edit Data, WithHolding Paid by Debtor has already change, please refresh first");var c={OptionFunctionCd:"CheckDataToCN",ModuleCd:"AR",SubPortfolioCd:e.getDataUser().SubPortfolioCd,DebitSequenceNo:e.DataRow.DebitSequenceNo};e.FnDynamicFunction(c).then(function(t){null!=t&&(e.DataRow.CreditSequenceNo&&0!=e.DataRow.CreditSequenceNo.toString()&&""!=e.DataRow.CreditSequenceNo||!(t.length>0)?e.UpdateOR():e.alertError("Cannot Edit Data, Invoice has already change to CN"))})}})}else this.alertError("Cannot Edit Data, status already Posted")},M_UpdateOR:function(){var e=this;if(this.DataRowPage1.AllocationAmt<this.M_AR_OfficialReceiptD.allocamt)this.alertError("Cannot Save Data, Allocation Amount cannot be greater than Total Allocation Amount");else{var t=[],a={};a={_Method_:"UPDATE",_LineNo_:this.$parent.data.PageOrder,SubportfolioCd:this.getDataUser().SubPortfolioCd,CreditNo:this.DataRowPage1.ReceiptNo,DebitSequenceNo:this.DataRow.DebitSequenceNo,CurrencyOperator:this.M_AR_OfficialReceiptD.operator,Remarks:this.M_AR_OfficialReceiptD.remarks,UserInput:this.getDataUser().UserId,CreditSequenceNo_Output:""};var i="CreditSequenceNo";i=0==this.DataRow.CreditSequenceNo?"CreditSequenceNo":this.DataRow.CreditSequenceNo;var r=[];if(0==this.DataRow.CreditSequenceNo)if("D"==this.M_AR_OfficialReceiptD.journalcategory)for(var c=0;c<this.DataDetail.length;c++)r.push({_Method_:"SAVE",_LineNo_:1,CreditSequenceNo:i,DebitDetailSequenceNo:this.DataDetail[c].DebitDetailSequenceNo,CurrencyOperator:this.M_AR_OfficialReceiptD.operator,DebitCurrencyCd:this.M_AR_OfficialReceiptD.debitcurrencycd,CreditCurrencyCd:this.DataRowPage1.CurrencyCd,DebitCurrencyRate:this.replaceAllString(this.isCurrency(this.DataDetail[c].CurrencyRate,this.decimal),",","","number"),CreditCurrencyRate:this.replaceAllString(this.isCurrency(this.DataDetail[c].AllocationCurrencyRate,this.decimal),",","","number"),AllocationAmt:this.replaceAllString(this.isCurrency(this.DebitCharge[c].data.allocamt,this.decimal),",","","number"),UserInput:this.getDataUser().UserId});else for(var l=0;l<this.DataDetail.length;l++)r.push({_Method_:"SAVE",_LineNo_:2,CreditSequenceNo:i,DebitDetailSequenceNo:this.DataDetail[l].DebitDetailSequenceNo,TotalAllocationAmt:this.replaceAllString(this.isCurrency(this.M_AR_OfficialReceiptD.totalallocatedamt,this.decimal),",","","number"),DebitCurrencyCd:this.M_AR_OfficialReceiptD.debitcurrencycd,CreditCurrencyCd:this.DataRowPage1.CurrencyCd,BaseCurrencyCd:this.BaseCurrencyCd,AllocationAmt:this.replaceAllString(this.isCurrency(this.DebitCharge[l].data.allocamt,this.decimal),",","","number"),VATPaidBy:this.M_AR_OfficialReceiptD.vatpaidby,WithholdingPaidBy:this.M_AR_OfficialReceiptD.withholdingpaidby,CreditCurrencyRate:this.replaceAllString(this.isCurrency(this.DataDetail[l].AllocationCurrencyRate,this.decimal),",","","number"),CurrencyOperator:this.M_AR_OfficialReceiptD.operator,TaxCd:this.M_AR_OfficialReceiptD.taxcd,TaxType:this.DataDetail[l].TaxType,TaxClass:this.DataDetail[l].TaxTypeDescs,UserInput:this.getDataUser().UserId});else if("D"==this.M_AR_OfficialReceiptD.journalcategory)for(var n=0;n<this.DataDetail.length;n++)0!=this.DataDetail[n].CreditDetailSequenceNo?r.push({_Method_:"UPDATE",_LineNo_:2,CreditDetailSequenceNo:this.DataDetail[n].CreditDetailSequenceNo,DebitDetailSequenceNo:this.DataDetail[n].DebitDetailSequenceNo,CurrencyOperator:this.M_AR_OfficialReceiptD.operator,DebitCurrencyCd:this.M_AR_OfficialReceiptD.debitcurrencycd,CreditCurrencyCd:this.DataRowPage1.CurrencyCd,DebitCurrencyRate:this.replaceAllString(this.isCurrency(this.DataDetail[n].CurrencyRate,this.decimal),",","","number"),CreditCurrencyRate:this.replaceAllString(this.isCurrency(this.DataDetail[n].AllocationCurrencyRate,this.decimal),",","","number"),AllocationAmt:this.replaceAllString(this.isCurrency(this.DebitCharge[n].data.allocamt,this.decimal),",","","number"),UserEdit:this.getDataUser().UserId}):0!=this.replaceAllString(this.isCurrency(this.DebitCharge[n].data.allocamt,this.decimal),",","","number")&&r.push({_Method_:"SAVE",_LineNo_:1,CreditSequenceNo:i,DebitDetailSequenceNo:this.DataDetail[n].DebitDetailSequenceNo,CurrencyOperator:this.M_AR_OfficialReceiptD.operator,DebitCurrencyCd:this.M_AR_OfficialReceiptD.debitcurrencycd,CreditCurrencyCd:this.DataRowPage1.CurrencyCd,DebitCurrencyRate:this.replaceAllString(this.isCurrency(this.DataDetail[n].CurrencyRate,this.decimal),",","","number"),CreditCurrencyRate:this.replaceAllString(this.isCurrency(this.DataDetail[n].AllocationCurrencyRate,this.decimal),",","","number"),AllocationAmt:this.replaceAllString(this.isCurrency(this.DebitCharge[n].data.allocamt,this.decimal),",","","number"),UserInput:this.getDataUser().UserId});else for(var o=0;o<this.DataDetail.length;o++)r.push({_Method_:"UPDATE",_LineNo_:3,CreditSequenceNo:i,CreditDetailSequenceNo:this.DataDetail[o].CreditDetailSequenceNo,DebitDetailSequenceNo:this.DataDetail[o].DebitDetailSequenceNo,DebitCurrencyCd:this.M_AR_OfficialReceiptD.debitcurrencycd,CreditCurrencyCd:this.DataRowPage1.CurrencyCd,BaseCurrencyCd:this.BaseCurrencyCd,VATPaidBy:this.M_AR_OfficialReceiptD.vatpaidby,WithholdingPaidBy:this.M_AR_OfficialReceiptD.withholdingpaidby,CreditCurrencyRate:this.replaceAllString(this.isCurrency(this.DataDetail[o].AllocationCurrencyRate,this.decimal),",","","number"),TotalAllocationAmt:this.M_AR_OfficialReceiptD.totalallocatedamt,CurrencyOperator:this.M_AR_OfficialReceiptD.operator,TaxCd:this.M_AR_OfficialReceiptD.taxcd,TaxType:this.DataDetail[o].TaxType,TaxClass:this.DataDetail[o].TaxTypeDescs,UserEdit:this.getDataUser().UserId});var s={};s={_Method_:"UPDATE2",_LineNo_:1,SubportfolioCd:this.getDataUser().SubPortfolioCd,CreditSequenceNo:i,CreditNo:this.DataRowPage1.ReceiptNo,CurrencyOperator:this.M_AR_OfficialReceiptD.operator,Remarks:this.M_AR_OfficialReceiptD.remarks,UserEdit:this.getDataUser().UserId,EntryType:"R",AutoUnderOver:"Y"==this.M_AR_OfficialReceiptD.kautounderover?"Y":"N"},0==this.DataRow.CreditSequenceNo?t.push({A_Insert:a,B_Looping:r,C_Update:s}):t.push({A_Looping:r,B_Update:s});var d={OptionSeq:this.getOptionSeq().OptionSeq,LineNo:this.$parent.data.PageOrder,Data:t};this.postJSONMulti(this.getUrlProsesDataPostMulti(),d).then(function(t){null!=t&&(e.$parent.resultUpdate("Data Has Been Saved Successfully"),e.refreshListParent(!0))})}},M_Updatex:function(){var e=this,t={OptionSeq:this.getOptionSeq().OptionSeq,LineNo:this.$parent.data.PageOrder,SubportfolioCd:this.getDataUser().SubPortfolioCd,DebitNo:this.M_AR_OfficialReceiptD.debitno,DebitSequenceNo:this.DataRow.DebitSequenceNo,CreditNo:this.DataRowPage1.ReceiptNo,CreditSequenceNo:this.DataRow.CreditSequenceNo,VatPaidByManagement:"M"==this.M_AR_OfficialReceiptD.vatpaidby?"Y":"N",VatPaidByDebtor:"D"==this.M_AR_OfficialReceiptD.vatpaidby?"Y":"N",WithHoldingPaidByManagement:"M"==this.M_AR_OfficialReceiptD.withholdingpaidby?"Y":"N",WithHoldingPaidByDebtor:"D"==this.M_AR_OfficialReceiptD.withholdingpaidby?"Y":"N",JournalCategory:this.M_AR_OfficialReceiptD.journalcategory,AllocationAmt:this.M_AR_OfficialReceiptD.totalallocatedamt,CurrencyOperator:this.M_AR_OfficialReceiptD.operator,Remarks:this.M_AR_OfficialReceiptD.remarks,UserInput:this.getDataUser().UserId};this.postJSON(this.getUrlUpdate(),t).then(function(t){null!=t&&(e.M_Update2(),e.refreshListParent(!0))})},M_Update2:function(){var e=this,t={},a={},i="",r="",l=this.$parent.data.PageOrder,n=this.$parent.data.PageOrder;if(0==this.DataRow.CreditSequenceNo)if("D"==this.M_AR_OfficialReceiptD.journalcategory){i=this.getUrlInsertMulti(),"I";for(var o=[],s=0;s<this.DataDetail.length;s++)o.push({CreditSequenceNo:this.DataRow.CreditSequenceNo,DebitDetailSequenceNo:this.DataDetail[s].DebitDetailSequenceNo,CurrencyOperator:this.M_AR_OfficialReceiptD.operator,DebitCurrencyCd:this.M_AR_OfficialReceiptD.currencycd,CreditCurrencyCd:this.DataRowPage1.CurrencyCd,DebitCurrencyRate:this.DataDetail[s].CurrencyRate,CreditCurrencyRate:this.DataDetail[s].AllocationCurrencyRate,AllocationAmt:this.DataDetail[s].AllocationAmt,UserInput:this.getDataUser().UserId});t={OptionSeq:this.getOptionSeq().OptionSeq,LineNo:l,Data:o}}else{i=this.getUrlInsertMulti(),"I",l=2;o=[];for(var d=0;d<this.DataDetail.length;d++)o.push({CreditSequenceNo:this.DataRow.CreditSequenceNo,DebitDetailSequenceNo:this.DataDetail[d].DebitDetailSequenceNo,TotalAllocationAmt:this.M_AR_OfficialReceiptD.totalallocatedamt,DebitCurrencyCd:this.M_AR_OfficialReceiptD.currencycd,CreditCurrencyCd:this.DataRowPage1.CurrencyCd,BaseCurrencyCd:this.BaseCurrencyCd,AllocationAmt:this.DataDetail[d].AllocationAmt,VATPaidBy:this.M_AR_OfficialReceiptD.vatpaidby,WithholdingPaidBy:this.M_AR_OfficialReceiptD.withholdingpaidby,CreditCurrencyRate:this.DataDetail[d].AllocationCurrencyRate,CurrencyOperator:this.M_AR_OfficialReceiptD.operator,TaxCd:this.M_AR_OfficialReceiptD.taxcd,TaxType:this.DataDetail[d].TaxType,TaxClass:this.DataDetail[d].TaxTypeDescs,UserInput:this.getDataUser().UserId});t={OptionSeq:this.getOptionSeq().OptionSeq,LineNo:l,Data:o}}else if("D"==this.M_AR_OfficialReceiptD.journalcategory){for(var u=[],p=(o=[],0);p<this.DataDetail.length;p++){var h;if(0!=this.DataDetail[p].CreditDetailSequenceNo)r=this.getUrlUpdateMulti(),"U",n=2,u.push((h={CreditDetailSequenceNo:this.DataDetail[p].CreditDetailSequenceNo,UserEdit:this.getDataUser().UserId,DebitDetailSequenceNo:this.DataDetail[p].DebitDetailSequenceNo,CurrencyOperator:this.M_AR_OfficialReceiptD.operator,DebitCurrencyCd:this.M_AR_OfficialReceiptD.currencycd,CreditCurrencyCd:this.DataRowPage1.CurrencyCd},Object(c["a"])(h,"DebitCurrencyCd",this.M_AR_OfficialReceiptD.currencycd),Object(c["a"])(h,"CreditCurrencyCd",this.DataRowPage1.CurrencyCd),Object(c["a"])(h,"DebitCurrencyRate",this.DataDetail[p].CurrencyRate),Object(c["a"])(h,"CreditCurrencyRate",this.DataDetail[p].AllocationCurrencyRate),Object(c["a"])(h,"AllocationAmt",this.DataDetail[p].AllocationAmt),h));else if(0!=this.DataDetail[p].AllocationAmt){var b;i=this.getUrlInsertMulti(),"I",o.push((b={CreditSequenceNo:this.DataRow.CreditSequenceNo,UserInput:this.getDataUser().UserId,DebitDetailSequenceNo:this.DataDetail[p].DebitDetailSequenceNo,CurrencyOperator:this.M_AR_OfficialReceiptD.operator,DebitCurrencyCd:this.M_AR_OfficialReceiptD.currencycd,CreditCurrencyCd:this.DataRowPage1.CurrencyCd},Object(c["a"])(b,"DebitCurrencyCd",this.M_AR_OfficialReceiptD.currencycd),Object(c["a"])(b,"CreditCurrencyCd",this.DataRowPage1.CurrencyCd),Object(c["a"])(b,"DebitCurrencyRate",this.DataDetail[p].CurrencyRate),Object(c["a"])(b,"CreditCurrencyRate",this.DataDetail[p].AllocationCurrencyRate),Object(c["a"])(b,"AllocationAmt",this.DataDetail[p].AllocationAmt),b))}}a={OptionSeq:this.getOptionSeq().OptionSeq,LineNo:n,Data:u},t={OptionSeq:this.getOptionSeq().OptionSeq,LineNo:l,Data:o}}else{i=this.getUrlUpdateMulti(),"U",l=3;o=[];for(var f=0;f<this.DataDetail.length;f++)o.push({CreditDetailSequenceNo:this.DataDetail[f].CreditDetailSequenceNo,CreditSequenceNo:this.DataRow.CreditSequenceNo,DebitDetailSequenceNo:this.DataDetail[f].DebitDetailSequenceNo,TotalAllocationAmt:this.M_AR_OfficialReceiptD.totalallocatedamt,DebitCurrencyCd:this.M_AR_OfficialReceiptD.currencycd,CreditCurrencyCd:this.DataRowPage1.CurrencyCd,BaseCurrencyCd:this.BaseCurrencyCd,VATPaidBy:this.M_AR_OfficialReceiptD.vatpaidby,WithholdingPaidBy:this.M_AR_OfficialReceiptD.withholdingpaidby,CreditCurrencyRate:this.DataDetail[f].AllocationCurrencyRate,CurrencyOperator:this.M_AR_OfficialReceiptD.operator,TaxCd:this.M_AR_OfficialReceiptD.taxcd,TaxType:this.DataDetail[f].TaxType,TaxClass:this.DataDetail[f].TaxTypeDescs,UserEdit:this.getDataUser().UserId});t={OptionSeq:this.getOptionSeq().OptionSeq,LineNo:l,Data:o}}0!=this.DataRow.CreditSequenceNo&&"D"==this.M_AR_OfficialReceiptD.journalcategory?""!=r?this.postJSONMulti(r,a).then(function(a){null!=a&&(""!=i?e.postJSONMulti(i,t).then(function(t){null!=t&&e.M_Update3()}):e.M_Update3())}):""!=i&&this.postJSONMulti(i,t).then(function(t){null!=t&&e.M_Update3()}):this.postJSONMulti(i,t).then(function(t){null!=t&&e.M_Update3()})},M_Update3:function(){var e=this,t={OptionSeq:this.getOptionSeq().OptionSeq,LineNo:this.$parent.data.PageOrder,SubPortfolioCd:this.getDataUser().SubPortfolioCd,SubportfolioCd:this.getDataUser().SubPortfolioCd,CreditSequenceNo:this.DataRow.CreditSequenceNo,CreditNo:this.DataRowPage1.ReceiptNo,CurrencyOperator:this.M_AR_OfficialReceiptD.operator,Remarks:this.M_AR_OfficialReceiptD.remarks,UserEdit:this.getDataUser().UserId,AutoUnderOver:this.M_AR_OfficialReceiptD.autounderover};this.postJSON(this.getUrlUpdate()+"2",t).then(function(t){null!=t&&(e.$parent.resultUpdate(t.Message),e.refreshListParent(!0))})},M_ClearForm:function(){var e;this.M_AR_OfficialReceiptD=(e={autounderover:"",journalcategory:"",debitno:"",trxtype:"",descs:"",headerdescs:"",currencycd:"",currencyrate:"",vatpaidby:"",withholdingpaidby:"",taxcurrencyrate:"",remarks:"",totalallocatedamt:"0",currentcurrencyrate:"",currenttaxcurrencyrate:"",operator:"",taxcd:"",rowid:0,lastupdatestamp:0,toutstandingamt:"",detailoutstandingamt:"",detailcurrencyrate:"",detailallocamt:"",outstandingamt:"",fullallocate:[]},Object(c["a"])(e,"detailoutstandingamt",""),Object(c["a"])(e,"debitcurrencyrate",""),Object(c["a"])(e,"allocationamt","0"),Object(c["a"])(e,"creditcurrencyrate","0"),e)},M_New:function(){var e=this.$store.getters.GetPage1Data;this.M_AR_OfficialReceiptD.currencycd=e.CurrencyCd},M_Edit:function(){},M_Delete:function(e){},getSpec:function(){var e=this,t={OptionFunctionCd:"GetGLSpecification",ModuleCd:"GL"};this.FnDynamicFunction(t).then(function(t){if(null!=t&&null!=t&&t.length>0){var a=t[0];e.BaseCurrencyCd=a.BaseCurrencyCd}})},getDataBy:function(e){var t=this,a={OptionFunctionCd:"SelectDebitChargesCreditAllocation2",ModuleCd:this.Module,DebitSequenceNo:e.DebitSequenceNo,CreditNo:this.DataRowPage1.ReceiptNo,SubPortfolioCd:this.getDataUser().SubPortfolioCd};this.FnDynamicFunction(a).then(function(a){if(null!=a){t.DataDetail=a,t.DebitCharge=[];for(var i=0,r=0;r<a.length;r++)i+=parseFloat(a[r].ChargeAmt),t.DebitCharge.push({data:{outstanding:a[r].ChargeAmt&&""!=a[r].ChargeAmt&&parseFloat(a[r].ChargeAmt)>0?t.isCurrency(a[r].ChargeAmt,t.decimal):"",currencyrate:a[r].CurrencyRate&&""!=a[r].CurrencyRate&&parseFloat(a[r].CurrencyRate)>0?t.isCurrency(a[r].CurrencyRate,t.decimal):"",allocamt:a[r].AllocationAmt&&""!=a[r].AllocationAmt&&parseFloat(a[r].AllocationAmt)>0?t.isCurrency(a[r].AllocationAmt,t.decimal):"",alloccurrencyrate:a[r].AllocationCurrencyRate&&""!=a[r].AllocationCurrencyRate&&parseFloat(a[r].AllocationCurrencyRate)>0?t.isCurrency(a[r].AllocationCurrencyRate,t.decimal):""},props:{label:{cLabel:a[r].TaxTypeDescs,cLabelSize:4,cValue:"",cPageLevel:t.PageLevel,cTabIndex:t.TabIndex,cVisible:!0,cClass:"lbl-col-align"},outstanding:{cValidate:"",cName:"outstanding_"+(r+1),cLabel:"",cLabelSize:4,cOrder:0,cKey:!1,cType:"decimal",cDecimal:2,cVisible:!0,cProtect:!0,cPageLevel:t.PageLevel,cTabIndex:t.TabIndex,cParentForm:"FormScope_"+t.PageLevel+"_"+t.TabIndex,cRowDisable:[]},currencyrate:{cValidate:"",cName:"currencyrate_"+(r+1),cLabel:"",cLabelSize:4,cOrder:0,cKey:!1,cType:"decimal",cDecimal:2,cVisible:!0,cProtect:!0,cPageLevel:t.PageLevel,cTabIndex:t.TabIndex,cParentForm:"FormScope_"+t.PageLevel+"_"+t.TabIndex,cRowDisable:[]},allocamt:{cValidate:"",cName:"allocamt_"+(r+1),cLabel:"",cLabelSize:4,cOrder:0,cKey:!1,cType:"decimal",cDecimal:2,cVisible:!0,cProtect:!1,cPageLevel:t.PageLevel,cTabIndex:t.TabIndex,cParentForm:"FormScope_"+t.PageLevel+"_"+t.TabIndex,cRowDisable:[]},alloccurrencyrate:{cValidate:"",cName:"alloccurrencyrate_"+(r+1),cLabel:"",cLabelSize:4,cOrder:0,cKey:!1,cType:"decimal",cDecimal:2,cVisible:!0,cProtect:!0,cPageLevel:t.PageLevel,cTabIndex:t.TabIndex,cParentForm:"FormScope_"+t.PageLevel+"_"+t.TabIndex,cRowDisable:[]}}});t.TotalCharge=i;var c={OptionSeq:t.getOptionSeq().OptionSeq,LineNo:t.$parent.data.PageOrder,currencycd:e.CurrencyCd,debitsequenceno:e.DebitSequenceNo,creditsequenceno:e.CreditSequenceNo,creditno:t.DataRowPage1.ReceiptNo,debtorcd:t.DataRowPage1.DebtorCd,SubportfolioCd:t.getDataUser().SubPortfolioCd};t.postEncode(t.getUrlById(),c).then(function(a){if(null!=a){var i=a.Data[0],r=[];i.totalallocatedamt>0?r.push("Y"):r.push(""),t.M_AR_OfficialReceiptD={autounderover:"",journalcategory:i.journalcategory,debitno:i.debitno,trxtype:i.trxtype,descs:i.descs,headerdescs:i.headerdescs,currencycd:i.currencycd,debitcurrencycd:i.currencycd,currencyrate:i.currencyrate,vatpaidby:i.vatpaidby,withholdingpaidby:i.withholdingpaidby,taxcurrencyrate:i.taxcurrencyrate,remarks:i.remarks,totalallocatedamt:i.totalallocatedamt&&""!=i.totalallocatedamt&&parseFloat(i.totalallocatedamt)>0?t.isCurrency(i.totalallocatedamt,t.decimal):"",currentcurrencyrate:i.currentcurrencyrate,currenttaxcurrencyrate:i.currenttaxcurrencyrate,operator:i.operator,taxcd:i.taxcd,rowid:i.rowid,lastupdatestamp:e.LastUpdateStamp,toutstandingamt:i.toutstandingamt,detailoutstandingamt:i.detailoutstandingamt,detailcurrencyrate:i.detailcurrencyrate,detailallocamt:i.detailallocamt,outstandingamt:e.OutstandingAmt,fullallocate:r,debitcurrencyrate:i.debitcurrencyrate,allocationamt:t.isCurrency(i.allocationamt,t.decimal),creditcurrencyrate:i.creditcurrencyrate},t.PI_totalallocatedamt.cValidate="max_value:"+t.replaceAllString(t.M_AR_OfficialReceiptD.outstandingamt,",","","number")+"|cmax_value:Allocation Amount Cant be greater Than Outstanding Amount",t.IEBy.Input=i.userinput,t.IEBy.Edit=i.useredit}})}})},FullAllocate:function(){"Y"==this.M_AR_OfficialReceiptD.fullallocate?(this.FnAllocationAmt=this.M_AR_OfficialReceiptD.outstandingamt,AutoSplitAllocationAmount()):(this.FnAllocationAmt=0,AutoSplitAllocationAmount())},AutoSplitAllocationAmount:function(){for(var e=this.FnAllocationAmt,t=2,a=0,i=0,r=0,c=0,l=[],n=[],o=0;o<this.DataDetail.length;o++)this.DataDetail[o].ChargeAmt&&""!=this.DataDetail[o].ChargeAmt&&(l.push(this.DataDetail[o].ChargeAmt),a+=parseFloat(this.DataDetail[o].ChargeAmt)),this.DataDetail[o].AllocationAmt&&""!=this.DataDetail[o].AllocationAmt&&n.push(this.DataDetail[o].AllocationAmt);if(0==n.length)return!1;if(0==e)for(var s=0;s<n.length;s++)n[s].value=0;else{i=e,i=this.replaceAllString(i,",","","number");for(var d=0;d<n.length;d++)parseFloat(i)<=0?n[d].value=0:parseFloat(a)>parseFloat(i)?n[d].value=l[d]/a*i:n[d].value=l[d];r=0;for(var u=0;u<n.length;u++)p=n[u].value,p=this.replaceAllString(p,",","","number"),r+=parseFloat(p)}if(c=i-r,0!=c){var p;c*=Math.pow(10,t),c=Math.round(c),c*=Math.pow(10,-1*t);for(var h=0;h<n.length;h++)if(p=n[h].value,p=this.replaceAllString(p,",","","number"),parseFloat(p)+parseFloat(c)<=parseFloat(l[h])){n[h].value=parseFloat(p)+parseFloat(c);break}}},OntotalallocateamtChange:function(e){if("VIEW"!=this.inputStatus)if(e<=0||""==e)for(var t=0;t<this.DebitCharge.length;t++)this.DebitCharge[t].data.allocamt=this.isCurrency(0,this.decimal);else for(var a=0;a<this.DebitCharge.length;a++){var i=parseFloat(this.replaceAllString(this.DebitCharge[a].data.outstanding,",","","number"))/parseFloat(this.TotalCharge)*parseFloat(this.replaceAllString(e,",","","number"));this.DebitCharge[a].data.allocamt=this.isCurrency(i,this.decimal)}},handleInput:function(e,t,a){"text"==this.DebitCharge[e].props[a].cType?t&&(this.DebitCharge[e].data[a]=t.toString()):this.DebitCharge[e].data[a]=t},formatNumber:function(e,t,a,i){e=e||window.event;var r=e.which?e.which:e.keyCode;if("decimal"==this.DebitCharge[t].props[i].cType||"numeric"==this.DebitCharge[t].props[i].cType)if(r>31&&(r<48||r>57)&&46!==r)e.preventDefault();else if(46==r)if("numeric"==this.DebitCharge[t].props[i].cType)e.preventDefault();else{var c=this.DebitCharge[t].data[i];if(-1===c.indexOf("."))return!0;e.preventDefault()}else{if(!(r>64&&r<91||r>96&&r<123||8==r||32==r))return!0;e.preventDefault()}else if(13==r)return!0},isCurrency2:function(e,t,a){if("decimal"==this.DebitCharge[e].props[a].cType&&""!==this.DebitCharge[e].data[a]){var i=this.replaceAllString(this.DebitCharge[e].data[a],",","","number"),r=null;if(i.toString().indexOf(".")>-1)if(r=i.toString().split("."),r[1].length<this.DebitCharge[e].props[a].cDecimal);else{var c=parseFloat(i).toFixed(this.DebitCharge[e].props[a].cDecimal),l=c.toString().split(".");r[0]=l[0],r[1]=l[1]}else r=[i,"00"];var n=r[0]&&""!=r[0]?r[0]:0,o="."+r[1];this.DebitCharge[e].data[a]=n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+o}}},created:function(){},beforeMount:function(){},mounted:function(){this.hideSideBarMenu(),this.getSpec()},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},n=l,o=a("2877"),s=Object(o["a"])(n,i,r,!1,null,null,null);s.options.__file="AR_OfficialReceiptD.vue";t["default"]=s.exports}}]);
//# sourceMappingURL=chunk-2d0e1fae.d2c70955.js.map